FORMAT: 1A
HOST: http://polls.apiblueprint.org/

FORMAT: 1A
HOST: https://app.recruitis.io/api2/

# Recruitis.io
* Verze systému: **1.6.0**
* Poslední aktualizace: **1.6.2020**

API dokumentace pro systém Recruitis.io (http://recruitis.io).
Dokumentace je založena na autorizaci pomocí tokenu, který je vygenerován buď samotným systémem nebo uživatelem v systému Recruitis.

Zdrojové kódy k dokumentaci jsou volně přístupné zde: https://github.com/PavelVais/RecruitisAPI .

Postupem času budou přibývat jednotlivé funkcionality. Pokud by měla být narušena funkčnost jakéhokoli API volání, 
bude založen nový branch (v2 atd.) nebo budete v dostatečném časovém odstupu o změně informováni.

## Changelog

* **1.6.2020: branch v1 `1.6.0`**
     * Přidáno API pro vytvoření reportů ze systému. 
     * U API s komunikací s uchazečem se nyní vypisují detailněji validační chyby (`meta`.`errors`). Postupně bude hlášení o chybách ve validaci ve všech volání.
     
* **19.2.2020: branch v1 `1.5.0`**
     * Přidáno API pro vytváření komunikace s uchazečem. 
     * U API s komunikací s uchazečem se nyní vypisují detailněji validační chyby (`meta`.`errors`). Postupně bude hlášení o chybách ve validaci ve všech volání.

* **14.1.2020: branch v1 `1.4.2`**
     * U volání `GET jobs/` je možné volat parametr `status` a filtrovat s ním i draft inzeráty.
     * Přidáno volání `POST jobs/` které umí vytvořit draft inzerát. (následně je ho možné dokončit v Recruitisu)

 * **15.7.2019: branch v1 `1.4.1`**
     * U volání `GET files/` je možné volat parametr `hash` jako pole. Součet všech příloh musí být menší, než 30MB.
     * Do dokumentace byl přidán popis s meta.code `api.error.response.too_big`.
     * Do seznamu odpovědí přibyly parametry odpovědi `job_contact_name`,`job_contact_email`,`job_contact_phone`
     
 * **11.7.2019: branch v1 `1.4`**
     * Přibyla dokumentace na zobrazování seznamu odpovědí (`GET answers/`).
     * Přibyla dokumentace na stahování příloh (`GET files/`).
 
 * **3.12.2018: branch v1 `1.3.4`**
     * V dokumentaci přibyl popis stavu při nedostupnosti API. 
     * Přibyly nové kódy chyb: `api.error.system.unavailable`, `api.error.request.property.wrong_text_length`,`api.error.request.property.maximum_array_items` 
 
 * **22.10.2018: branch v1 `1.3.3`**
     * Byla přidána nová sekce `referrals`, ve které je volání na přidání a výpis referralů. 
     
 * **16.10.2018: branch v1 `1.3.2`**
     * Do odpovědi u volání `GET /jobs` přibyl nový prvek `employment` a `education`.
 
 * **Pozor: 18.9.2018 přijde změna ve volání konkrétního inzerátu (`GET /jobs/id`): Nebude se nadále vracet pole s jedním inzerátem, ale bude vracet přímo objekt s daným inzerátem. Připravte na to prosím svoje aplikace.**

 * **17.9.2018: branch v1 `1.3.1`**
     * Bylo přidáno volání `DELETE /candidates`.
     * Přibyl popis kvót.
     * Přibyla kvóta `quota_candidates_delete`.
 
 * **11.9.2018: branch v1 `1.3`**
     * Bylo přidáno volání `POST /candidates`.
     * Do dokumentace byl přidán popis tagů.
     * Validace telefonního kontaktu v requestu `POST /answers` nyní akceptuje správné české formáty.
     * Validace emailu v requestu `POST /answers` nyní akceptuje znak "+".
 
 * **6.9.2018: branch v1 `1.2.3`**
     * Do volání `GET /jobs` přibyl parametr `include_inactive`.
     * Do volání `GET /jobs` přibyl parametr `include_inactive`.
     * Volání u neexistujícího inzerátu (`GET /jobs/id`) končí s http_statusem `404` namísto prázdné `200` odpovědi.
     * Aktualizace dokumentace o některé důležité informace (popis jednotlivých atributů u inzerátu).

 * **5.9.2018: branch v1 `1.2.2`**
     * Do odpovědi u volání `POST /Answers` přibyl parametr `source`.
     * Do odpovědi u volání `GET /jobs` přibyl parametr `details`.
     * Server nyní vrací přesnější informace u volání `GET /jobs`, dle specifikace dokumentace.
     * Aktualizace dokumentace o některé důležité informace.

 * **28.8.2018: branch v1 `1.2.1`**
    * Do odpovědi u volání `POST /Answers` přibyly nové možnosti (přidání odkazů na sociální sítě uchazeče).
    * Do odpovědi volání `POST /Answers` přibyl parametr `date_created` v objektu `gdpr_agreement`.
 
 * **6.8.2018: branch v1 `1.2`**
    * Přidána sekce **Filters**
    * Zprovozněn parametr filter_id u volání `GET /jobs`.
    * U volání `POST /answer`  přibyl parametr `referral_id`, `channel_id` a `extra`, který dovoluje přidat k odpovědi poznámku nebo tag..
    * U volání `POST /answer`  byl zprovozněn parametr `channel_id`.
    * U volání `POST /answer`  byl upraven parametr `gppr_agreements` - nyní je rozšířen o další atributy.
    * Volání `GET /enums/filters` je označeno jako deprecated. Namísto toho se doporučuje volat `GET /filters`.
 
 * **19.7.2018: branch v1 `1.1.1`**
    * Zprovozněn parametr channel_id u volání `GET /jobs`.
    * Do odpovědi `GET /jobs` přibyly tyto položky: `description` a `workfields`.
    * Opraven parametr channel_assignation u volání `GET /enums/workfields`.
    * Přidáno vynucení správných typů tokenů u volání `GET /enums/workfields` a `GET /jobs`.
    * Standardizovány některé kódové označení chyb + jsou zveřejněny a popsány v dokumentaci.
    * V dokumentaci jsou připsány další dodatečné informace o API.
 
 * **9.7.2018: branch v1 `1.1`**
    * Zprovozněno volání nad reálnými daty na url adrese: `https://app.recrutis.io/api2/`.
    * `GET /jobs` odstraněn parametr `regions`. Namísto něho se bude využívat parametr `office_id`. Filtrace podle lokality není v nejbližším plánu vývoje.
    * `GET /jobs` parametr `workfields` přejmenován na `workfield_id` (zpětná kompatibilita je zachována).
    * `GET /jobs` přidán parametr `office_id`.
    * Přidáno volání `GET /enums/offices`.
    * Volání `GET /enum/*` přejmenováno na `GET /enums/*`(zpětná kompatibilita je zachována: stále se dá volat `enums`).
    * Zprovozněno volání na `https://api.recrutis.io/`(volání na https://app.recrutis.io/api2/ bude zachováno).

 * **18.6.2018: branch v1 `1.0.1`**
    * `POST /Answers` nyní přijímá parametr `attachment` `base64`. V této návaznosti je nyní povinný atribut `attachment` `filename`.

 * **4.5.2018: branch v1 `1.0.0`**
    * Ustálená verze API volání `jobs` , `answers` a `login`.
    * Počáteční verze.


## Tokeny
Autorizační tokeny mají dvě úrovně:
+ `full_access`: Token, který má veškeré pravomoci a umožňuje upravovat data v systému dané firmy.
Tento token nesmí být jakkoli zobrazen veřejnosti.
+ `public_access`: Token, který má převážně zobrazovací pravomoci. Tento token může být veřejnosti zobrazen. Například při použití Javascriptu.

Na oba druhy tokenů lze uplatnit doménový whitelist (toto nastavení doporučujeme použít).

Tokeny lze vytvořit po přihlášení v Recrutisu: *nastavení* > *api propojení* (https://app.recruitis.io/zadavatel/nastaveni).

Samotná autorizace probíhá pomocí header informace `Authorization`, kde je slovní spojení `Bearer` a následně vložený token

`Authorization: Bearer 30bcaf299e100318906fef2f442505216fa28af1.11196.99382ec77e2a79ac2af2671730817ec6`.

###Meta informace

Každá `response` má `meta` sekci, která dodává veškeré pomocné informace. Níže vypsané atributy **nemusí** vždy v meta sekci být a mohou být podmíněny 
okolnostmi volání (`entries_*` údaje se v meta sekci zobrazí jen při vrácení pole payloadu apod.).

| META parameter      | Note                                                                                  |
|:--------------------|---------------------------------------------------------------------------------------|
| `code`              | Kód výsledku. V případě chyby je to standardizované hlášení o chybě.                  |
| `message`           | Zpráva, která popisuje dané volání.                                                   |
| `duration`          | Uplynulá doba při zpracování požadavku.                                               |
| `cached`            | Výsledek je cachován a nemusí být aktuální.                                           |
| `cached_from`       | Čas vygenerování vráceného výsledku.                                                   |
| `deprecated`        | Dané volání je označeno jako zastaralé a nemělo by se nadále používat.                |
| `additional_output` | Viz samostatná sekce.                                                                  |
| `entries_from`      | Pokud se vrací pole, udává, od kterého elementu dané pole je (*určeno pro stránkovač*). |
| `entries_to`        | Pokud se vrací pole, udává, do kterého elementu dané pole je (*určeno pro stránkovač*).|
| `entries_total`     | Pokud se vrací pole, udává celkové množství elementů (*určeno pro stránkovač*).        |
| `entries_sum`       | Pokud se vrací pole, udává aktuální množství elementů (*určeno pro stránkovač*).      |


####Meta informace `additional_output`

Při nahrávání nových údajů (odpovědí, kandidátů) může nastat stav, kdy se daná entita nahraje s různými výjimkami 
(duplikace příloh, sjednocení uchazečů, gdpr zosobnění, vložení špatných příloh). V tom případě API zpětně informuje o všem, co se s danou 
entitou stalo, viz příklad níže. Zároveň se tento stav zaloguje u nás na serveru a je zpětně k dohledání.

```json
{
  "additional_output": [
    {
      "message": "Candidate is already exists. I'll use his user ID.",
      "status": "WARNING",
      "code": "candidate.put.exists.join"
    },
    {
      "message": "File cv.txt is already uploaded.",
      "status": "WARNING",
      "code": "candidate.put.attachment.duplicated"
    },
    {
      "message": "File logo.jpg is already uploaded.",
      "status": "WARNING",
      "code": "candidate.put.attachment.duplicated"
    },
    {
      "message": "File souhlas.pdf is already uploaded.",
      "status": "WARNING",
      "code": "candidate.put.attachment.duplicated"
    }
  ]
}
```

### Popis `code` stavů

Každá odpověď má nějaký kód. Zde je jejich výčet a jejich popis.

| CODE parameter                                   | Note
|:-------------------------------------------------|--------------------------------|
| `api.ok`                                         | Dotaz proběhl úspěšně. 
| `api.found`                                      | Dotaz našel výsledek a poslal zpět.
| `api.created`                                    | Dotaz vytvořil entitu.
| `api.deleted`                                    | Dotaz smazal entitu.
| `api.modified`                                   | Dotaz upravil entitu.
| `api.unmodified`                                 | Dotaz nic nového neprovedl, vrátil již existující entitu.
| `api.response.null`                              | Dotaz proběhl úspěšně, ale nebyl vrácen žádný výsledek. 
| `api.error.generic`                              | Obecná chyba. Nespecifikovatelná.
| `api.error.system.unavailable`                   | API systém je nedostupný.
| `api.error.request.wrong_format`                 | Špatný JSON formát requestu.
| `api.error.request.property.missing`             | V požadavku chybí vyžadovaná hodnota.
| `api.error.request.property.wrong_value`         | V požadavku nabývá proměnná špatnou hodnotu. 
| `api.error.request.property.wrong_text_length`   | Délka textu v konkrétním požadavku je větší než povolená hodnota.
| `api.error.request.property.maximum_array_items` | Počet prvků v poli je větší, než je povoleno.
| `api.error.not_found`                            | Dotaz směřuje na neexistující požadavek. 
| `api.error.unauthorized`                         | Dotaz vyžaduje přihlášení.
| `api.error.authorization.low_privileges`         | Dotaz vyžaduje přihlášení přes `full_access` token.
| `api.error.authorization.blocked`                | Přihlášení je na nějakou dobu zablokováno. Je možné, že se uživatel přihlašoval častěji špatnými údaji. 
| `api.error.authorization.wrong_token_format`     | Bearer token je špatného formátu.
| `api.error.authorization.token.doesnt_exists`    | Daný bearer token neexistuje. 
| `api.error.authorization.wrong_credentials`      | Vložené údaje jsou špatné, přihlášení se nezdařilo. 
| `api.error.authorization.bad_domain`             | API je voláno z nepovolené domény.
| `api.error.quota.exceeded`                       | Byl dosažen denní/minutový limit volání viz. samostatná sekce
| `api.error.account.deleted`                      | Účet, na který se snažíte přihlásit, byl smazán. 
| `api.error.account.banned`                       | Účet, na který se snažíte přihlásit, byl zablokován (trvale). 
| `api.error.upload.generic`                       | Nastala chyba při uploadování přílohy. 
| `api.error.upload.size`                          | Příloha má více, než 3 MB.
| `api.error.upload.timeout`                       | Vypršela doba pro stáhnutí souboru z externího uložiště. Soubor není dostupný.
| `api.error.upload.bad_host`                      | Snažíte se uploadovat soubor, který neexistuje. 
| `api.error.upload.no_data`                       | Snažíte se uploadovat soubor, který neexistuje. 
| `api.error.user.already_answered`                | Daný uchazeč již na inzerát odpověděl.
| `api.error.response.too_big`                     | Odpověď je příliš velká.
| `api.error.export.bad_request`                   | Obecná chyba při exportu inzerátu do jiného systému.
| `api.error.referral.already_created`             | Daný referral byl již vytvořen.

V případě nedostupnosti API server vrací `503` s kódem `api.error.system.unavailable`.

## Volání dotazů - dodatečné informace

### Kvóty

Kvóty hlídají jednotlivé volání systému, monitorují jejich frekvenci a v případě jejich dosažení, je daný druh volání zakázán. 
V případě dosažení limitu se vrací hlavíčka `403 - forbidden` s `meta.code` `api.error.quota.exceeded`.

Kvóty se budou v průběhu času upravovat a optimalizovat. 

Zde je výčet jednotlivých kvót:


| Quota name                | Quota type | Max value | Note                                        |
|:--------------------------|------------|-----------|---------------------------------------------|
| `quota_candidates_delete` | daily      | 100       | Denní povolené množství smazaných uchazečů. |



### Parametry

Pokud je v dokumentaci označen parametr jako `array`, poté systém očekává, že se dostaví daný parametr v url adrese jako jedna hodnota (`foo=bar`)
nebo jako pole (`foo[]=bar&foo[]=baz`). 

#### Typy příloh (Attachment type)

Typy příloh se využívají při vytváření odpovědi, popřípadě kandidáta.

| Value  |  Note                             |
|:-------|-----------------------------------|
| `1`    | Příloha bez zaměření       
| `2`    | CV příloha       
| `3`    | Emailová korespondence (obsolete)       
| `4`    | Fotografie       
| `5`    | GDPR souhlas       

#### Speciální typy tagů

Pokud místo svého znění tagu vložíte níže uvedený tag, má to hlubší vliv na fungování uchazeče, viz poznámka.

| Value        |  Note                             |
|:-------------|-----------------------------------|
| `tag.hot`    | Tento tag přidaný k uchazeči (přes přidání odpovědi / uchazeče) zaručí, že se kandidát zařadí do sekce "žhavý kandidát"  

### Vysvětlení hodnot jednotlivých parametrů

 **date** - Je string ve formátu YYYY-MM-DD (2018-01-30)
 
 **datetime** - Je string ve formátu YYYY-MM-DD HH:MM:SS (2018-01-30 12:59:59)


#Group Authentication

## Login [/login]

### Login [PUT]

Login request for user authentication. Default response is 200. 

 - `device_id` je ID vygenerováno firebase službou od Google inc. Pokud systém obdrží tento parametr,
 umožní přes tento login posílat SMS zprávy a systém počítá s tím, že se jedná o mobilní aplikaci.
- `device_name` je pouze označení daného api spojení. Pod tímto názvem ho pak uživatel uvidí v Recruitisu. Jednou,
jak se device_name zapíše, nelze přes API volání změnit.

Tato funkce není třeba volat, pokud již máte Token vygenerovaný. **Tato funkce vrací token s vlastností `full_access`.**

| Request value        | Required | Note |
|:----------------------|--------|----------------------|
| `password`            | Yes    |
| `username`            | Yes    |
| `device_id`           | No     |
| `device_name`         | No     |

#### Requirements

   + No Authorization is needed

+ Request 

        {
          "password": "heslo",
          "username": "user@test.cz",
          "device_id": "efee4554959cecejo",
          "device_name": "Samsung S8"
        }

        
+ Response 200 (application/json)

        {
          "payload": {
            "token": "30bcaf299e100318906fef2f442505216fa28af1.11196.99382ec77e2a79ac2af2671730817ec6",
            "device_id": "x56sj64uzr4we64rtb489uzjj186drgv13e",
            "device_name": "restapiklient"
          },
          "meta": {
            "duration": "2259.39",
            "total_duration": 2300,
            "code": 200,
            "message": "",
            "message_localized": "Přihlášení proběhlo v pořádku"
          }
        }
  
+ Response 404 (application/json)
       
        {
          "payload": null,
          "meta": {
            "duration": "139.58",
            "total_duration": 330,
            "code": "api.error.authentication",
            "message": "Vložené údaje nesouhlasí."
          }
        }

#Group Me

## My account information [/me]

### Me [GET]

Získání informací o právě přihlášeném účtu.

+ Request
    + Headers
    
            Authorization: Bearer 30bcaf299e100318906fef2f442505216fa28af1.11196.99382ec77e2a79ac2af2671730817ec6

+ Response 200 (application/json)

        {
          "payload": {
            "fullname": "Michal Macinka",
            "email": "foo@bar.com",
            "img_src": "http://lide.uhk.cz/fim/student/macinmi1/avatar_2.jpg",
            "device_id": "x56sj64uzr4we64rtb489uzjj186drgv13e",
            "device_name": "restapiklient"
          },
          "meta": {
            "duration": "2259.39",
            "total_duration": 2300,
            "code": "api.ok",
            "message_localized": "Údaje byly nalezeny."
          }
        }


+ Response 401 (application/json)

        {
          "payload": null,
          "meta": {
            "duration": 139.58,
            "code": "api.error.unauthorized",
            "message": "Musíte být přihlášen"
          }
        }

# Group Jobs
API volání, které se vztahuje k aktivním inzerátům.


## Job Lists [/jobs{?limit,page,workfield_id,office_id,filter_id,channel_id,include_inactive,only_deleted}]

    
### Get All Jobs [GET]

Získání všech inzerátů. Ty se dají filtrovat podle oborů (profesí), filtrů a distribučních kanálů. 

Pokud se nevrátí žádné inzeráty, vrátí se http status `200` s meta code `api.response.null`.

#### Parameters info

 Poznámka: Všechny array parametry udávejte buď jako jednu hodnotu (např. `&office_id=XXX`) nebo 
 jako více hodnot za sebou (např. `&office_id[]=XXX&office_id[]=YYY`).
 
| Parameter          | Required | Default Value | Require `full_access` token | Note                                                                                                                                                                        |
|:-------------------|----------|---------------|-----------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `limit`            | No       | 10            | No                          | Maximální limit pro stránkovač je 50. Pokud není určen, vrací 10 položek.                                                                                                   |
| `page`             | No       | 1             | No                          | Aktuální stránka.                                                                                                                                                           |
| `workfield_id`     | No       |               | No                          | Array. Filtrace podle ID oborů (profesí). Více v číselníku, viz Enumerations.                                                                                               |
| `office_id`        | No       |               | No                          | Array. Filtrace podle ID poboček.                                                                                                                                           |
| `filter_id`        | No       |               | No                          | Array. Filtrace podle ID jednotlivých filtračních položek přiřazených k inzerátu. Více v sekci filtračních položek.                                                         |
| `channel_id`       | No       |               | No                          | Array. Omezení na určité kanály. Více informací o kanálech vrací číselník, viz sekce Enumerations. Pokud není parametr určen, vrátí se všechny možné inzeráty (dle tokenu). |
| `include_inactive` | No       | 0             | Yes                         | Pokud chcete, aby systém vrátil i pozastavené / staré inzeráty, vložte tento parametr s hodnotou 1.                                                                         |
| `only_deleted`     | No       | 0             | Yes                         | Pokud chcete, aby systém vrátil POUZE smazané inzeráty. V tento moment systém vrátí ale payload pouze s job_id parametrem (payload: [{job_id:1234},{job_id:5678}]).         |
| `status`           | No       | 1             | Yes                         | Parametr se chová jako bitmapa. 1 = aktivní, 2 = neaktivní, 4 = draft, 8 = smazaný. Jsou povolené kombinace všech, krom smazaných, které jdou zobrazit pouze samostatně.    |
|                    |          |               |                             | Status nahrazuje předchozí dva parametry (include_inactive a only_deleted), které jsou deprecated, a při jeho použití jsou ignorovány.                                      | 



Tip: Pokud chcete filtrovat podle adres, můžete inzeráty v Recruitisu přiřadit ke konkrétním pobočkám a pak filtrovat podle nich (u poboček vracíme adresy, pod jednou adresou můžete uvést i více poboček).

#### Requirements

   + Authorization with token
   + token type: `public_access`: pokud se jedná o veřejný inzerát (vystavený na firemních stránkách, xml nebo na pracovních portálech) - (určení dle channel_id).  
   + token type: `full_access`: pokud se jedná o interní inzerát. (určení dle channel_id). 

+ Request
    + Headers
    
            Authorization: Bearer 30bcaf299e100318906fef2f442505216fa28af1.11196.99382ec77e2a79ac2af2671730817ec6

+ Parameters
    + limit (optional,numeric,`10`) - Počet entit, které se mohou zobrazit.
    + page (optional,numeric,`1`) - Strana s výpisem inzerátů.
    + workfield_id (optional,array[int]) - Omezení na určité pracovní obory, profese.
    + office_id (optional,array[int]) - Omezení na určité pobočky, viz sekce Enumerations.
    + filter_id (optional,array[int]) - Omezení na určité filtry, viz sekce Job Filters.
    + channel_id (optional,array[int]) - Omezení na určité kanály, viz sekce Enumerations.
    + include_inactive (optional,boolean) - Vrátí i pozastavené nebo vypršelé inzeráty.
    + only_deleted (optional,boolean) - Vrátí pouze smazané inzeráty, viz Parameters info.

    
+ Response 200 (application/json)

        {
          "payload": [
            {
              "job_id": 123456,
              "active": true,
              "date_created": "2017-03-23 17:42:10",
              "date_end": "2019-01-30 15:14:00",
              "title": "Android Developer",
              "personalist": {
                "name": "Tomáš Krátký",
                "id": 12345
              },
              "contact": {
                "name": "Radim Velezeba",
                "email": "foo@bar.cz",
                "phone": 123456
              },
              "filterlist": [
                {
                  "id": "5",
                  "name": "Jednosměnný",
                  "group": "Typ provozu"
                },
                {
                  "id": "7",
                  "name": "Marketing",
                  "group": "oddělení"
                }
              ],
              "details": {
                "office_id": null
              },
              "workfields": [
                {
                  "id": 20,
                  "name": "Personalistika a HR"
                }
              ],
              "employment": {
                "id": 1,
                "name": "Práce doma"
              },
              "addresses": [
                {
                  "state": "CZ",
                  "region": "Královehradecký kraj",
                  "city": "Hradec Králové",
                  "street": "Třída ČSA 517",
                  "postcode": 50011
                }
              ],
              "stats": {
                "views": 92,
                "answers": 8,
                "flow_answers": [
                  {
                    "flow": 0,
                    "value": 9
                  },
                  {
                    "flow": 1,
                    "value": 1
                  },
                  {
                    "flow": 2,
                    "value": 0
                  },
                  {
                    "flow": 3,
                    "value": 0
                  },
                  {
                    "flow": 4,
                    "value": 1
                  },
                  {
                    "flow": 5,
                    "value": 0
                  },
                  {
                    "flow": 6,
                    "value": 0
                  },
                  {
                    "flow": 7,
                    "value": 0
                  },
                  {
                    "flow": 8,
                    "value": 0
                  },
                  {
                    "flow": 9,
                    "value": 0
                  },
                  {
                    "flow": -1,
                    "value": 0
                  }
                ]
              }
            },
            {
              "job_id": 123456,
              "active": true,
              "date_created": "2017-03-23 17:42:10",
              "title": "Android Developer",
              "source": "PRACEvCR.cz",
              "personalist": {
                "name": "Tomáš Krátký",
                "id": 12345
              },
              "workfields": [
                {
                  "id": 20,
                  "name": "Personalistika a HR"
                }
              ],
              "employment": {
                "id": 1,
                "name": "Práce doma"
              },
              "addresses": [
                {
                  "state": "CZ",
                  "region": "Královehradecký kraj",
                  "city": "Hradec Králové",
                  "street": "Třída ČSA 517",
                  "postcode": 50011
                }
              ],
              "stats": {
                "views": 92,
                "answers": 8,
                "flow_answers": [
                  {
                    "flow": 0,
                    "value": 9
                  },
                  {
                    "flow": 1,
                    "value": 1
                  },
                  {
                    "flow": 2,
                    "value": 0
                  },
                  {
                    "flow": 3,
                    "value": 0
                  },
                  {
                    "flow": 4,
                    "value": 1
                  },
                  {
                    "flow": 5,
                    "value": 0
                  },
                  {
                    "flow": 6,
                    "value": 0
                  },
                  {
                    "flow": 7,
                    "value": 0
                  },
                  {
                    "flow": 8,
                    "value": 0
                  },
                  {
                    "flow": 9,
                    "value": 0
                  },
                  {
                    "flow": -1,
                    "value": 0
                  }
                ]
              }
            },
            {
              "job_id": 123456,
              "active": true,
              "date_created": "2017-03-23 17:42:10",
              "title": "Android Developer",
              "source": "PRACEvCR.cz",
              "personalist": {
                "name": "Tomáš Krátký",
                "id": 12345
              },
              "workfields": [
                {
                  "id": 20,
                  "name": "Personalistika a HR"
                }
              ],
              "employment": {
                "id": 1,
                "name": "Práce doma"
              },
              "addresses": [
                {
                  "state": "CZ",
                  "region": "Královehradecký kraj",
                  "city": "Hradec Králové",
                  "street": "Třída ČSA 517",
                  "postcode": 50011
                }
              ],
              "stats": {
                "views": 92,
                "answers": 8,
                "flow_answers": [
                  {
                    "flow": 0,
                    "value": 9
                  },
                  {
                    "flow": 1,
                    "value": 1
                  },
                  {
                    "flow": 2,
                    "value": 0
                  },
                  {
                    "flow": 3,
                    "value": 0
                  },
                  {
                    "flow": 4,
                    "value": 1
                  },
                  {
                    "flow": 5,
                    "value": 0
                  },
                  {
                    "flow": 6,
                    "value": 0
                  },
                  {
                    "flow": 7,
                    "value": 0
                  },
                  {
                    "flow": 8,
                    "value": 0
                  },
                  {
                    "flow": 9,
                    "value": 0
                  },
                  {
                    "flow": -1,
                    "value": 0
                  }
                ]
              }
            }
          ],
          "meta": {
            "code": "api.found",
            "count": 3,
            "message": "Inzeráty byly nalezeny."
          }
        }

## Job Detail [/jobs/{id}?{include_inactive}]

### Get Jobs Detail [GET]

 Vrátí detail jednoho inzerátu. Parametry v odpovědi jsou stejné, jako když se vrací více inzerátů najednou.
 
 **POZOR: 18.9.2018 dojde ke změně odpovědi API volání: Inzerát se nebude vracet v payload jako pole (tzn.: nebude `payload: [{...}]`),
 ale bude se vracet přímo daná odpověď (tzn.: `payload: {...}`).**
 
 Pokud daný inzerát neexistuje, vrátí se http status `404` s meta code `api.error.not_found`.


#### Requirements

   + Authorization with token
   + token type: `public_access`: pokud se jedná o veřejný inzerát (vystavený na firemních stránkách, xml nebo na pracovních portálech).
   + token type: `full_access`: pokud se jedná o interní inzerát.

#### Response parameters
   
| Parameter                | token condition | Type          | Note                                                                                                                                               |
|--------------------------|-----------------|---------------|----------------------------------------------------------------------------------------------------------------------------------------------------|
| `job_id`                 | `public_access` | int           | ID inzerátu.                                                                                                                                        |
| `title`                  | `public_access` | string        |                                                                                                                                                    |
| `description`            | `public_access` | string        |                                                                                                                                                    |
| `date_end`               | `public_access` | date          |                                                                                                                                                    |
| `date_created`           | `public_access` | datetime      |                                                                                                                                                    |
| `workfields`             | `public_access` | array(object) |                                                                                                                                                    |
| `workfields` - `id`      | `public_access` | int           |                                                                                                                                                    |
| `workfields` - `name`    | `public_access` | string        |                                                                                                                                                    |
| `stats`                  | `full_access`   | object        | Statistiky k danému inzerátu. Ukazují počty.                                                                                                         |
| `stats` - `flow_answers` | `full_access`   | array(object) | Pole jednotlivých stavů a jejich počtu odpovědí.                                                                                                  |
| `stats` - `answers`      | `full_access`   | int           |                                                                                                                                                    |
| `stats` - `views`        | `full_access`   | int           |                                                                                                                                                    |
| `filterlist`             | `public_access` | array(object) | Seznam filtračních položek.                                                                                                                         |
| `filterlist` - `id`      | `public_access` | int           |                                                                                                                                                    |
| `filterlist` - `name`    | `public_access` | string        |                                                                                                                                                    |
| `filterlist` - `group`   | `public_access` | string        |                                                                                                                                                    |
| `details`                | `public_access` | object        |                                                                                                                                                    |
| `details` - `office_id`  | `public_access` | int           | Pokud je inzerát propojený s pobočkou, tato položka obsahuje ID pobočky (podle ní se dá filtrovat). Pokud není propojená, položka se nezobrazuje. |
| `personalist`            | `public_access` | object        |                                                                                                                                                    |
| `personalist` - `id`     | `public_access` | int           |                                                                                                                                                    |
| `personalist` - `name`   | `public_access` | string        |                                                                                                                                                    |
| `contact` - `name`       | `public_access` | string        |                                                                                                                                                    |
| `contact` - `email`      | `public_access` | string        |                                                                                                                                                    |
| `contact` - `phone`      | `public_access` | string        |                                                                                                                                                    |
| `addresses`              | `public_access` | array(object) |                                                                                                                                                    |
| `addresses` - `id`       | `public_access` | int           |                                                                                                                                                    |
| `addresses` - `city`     | `public_access` | string        |                                                                                                                                                    |
| `addresses` - `psc`      | `public_access` | string        |                                                                                                                                                    |
| `addresses` - `street`   | `public_access` | string        |                                                                                                                                                    |
| `addresses` - `region`   | `public_access` | string        |                                                                                                                                                    |
| `addresses` - `state`    | `public_access` | string        |                                                                                                                                                    |
| `active`                 | `public_access` | bool          | Značí, jestli je Inzerát aktivní (není smazaný ani starý). Pokud se neaplikuje filtr `include_inactive`, tato položka je vždy true.                |
| `draft`                  | `public_access` | bool          | Značí, jestli je Inzerát draft.                                                                                                                    |


+ Request
    + Headers
    
            Authorization: Bearer 30bcaf299e100318906fef2f442505216fa28af1.11196.99382ec77e2a79ac2af2671730817ec6

+ Parameters
    + id (number, `1`) - Job id
    + include_inactive (optional,boolean) - Vrátí inzerát, přestože je pozastavený nebo vypršelý.



+ Response 200 (application/json)

        {
          "payload": {
            "job_id": 123456,
            "title": "Android Developer",
            "date_created": "2017-01-30 15:14:00",
            "date_end": "2019-01-30 15:14:00",
            "description": "Jste maminka na mateřské dovolené, která opustila svět personalistiky tělem avšak rozhodně ne duší? Je pro Vás důležité trávit co nejvíce času s rodinou, ale zároveň si nechcete nechat ujít nové trendy v HR, aby pro Vás návrat do světa dění nebyl tak těžký? Pak Vám nabízíme příležitost, jak vše při mateřské skloubit a navíc si přivydělat! &lt;img src=&quot;http://recruitis.io/mam.jpeg&quot; class=&quot;img-responsive center&quot; alt=&quot;maminka s duší personalistky&quot;&gt;[/mujstyl] Jaká byste měla být: Personalistika je Vaší profesí a nebo alespoň velkou vášní S kolegy v oboru se ráda dělíte o užitečné novinky a hlavně o dobrou energii Skype meetingy jsou pro Vás přirozeným komunikačním prostředkem Je radost s Vámi komunikovat Trendy v HR Vás zajímají a chcete zůstat #intouch Co můžete čekat od nás: Práci z pohodlí domova Flexibilní formu spolupráce Podporu od týmu mladých pohodářů zapálených pro HR a moderní technologie [mujstyl]Zašlete nám Váš kontakt, dáme Skype nad šálkem kávy a povíme si víc. Budeme se těšit",
            "personalist": {
              "name": "Tomáš Krátký",
              "id": 12345
            },
            "contact": {
              "name": "Radim Velezeba",
              "email": "foo@bar.cz",
              "phone": 123456
            },
            "workfields": [
              {
                "id": 20,
                "name": "Personalistika a HR"
              }
            ],
            "details": {
              "office_id": null
            },
            "addresses": [
              {
                "state": "CZ",
                "region": "Královehradecký kraj",
                "city": "Hradec Králové",
                "street": "Třída ČSA 517",
                "postcode": 50011
              }
            ],
            "stats": {
              "views": 92,
              "answers": 8
            },
            "ztp": {
            },
            "employment": {
              "id": 4,
              "name": "Práce doma"
            },
            "education": {
              "id": -1,
              "name": "Vzdělání není podstatné"
            },
            "active": true
          },
          "meta": {
            "code": "api.ok",
            "count": 1,
            "message": "Inzerát byl nalezen."
          }
        }

        
+ Response 401 (application/json)

        {
          "payload": null,
          "meta": {
            "duration": 139.58,
            "code": "api.error.unauthorized",
            "message": "Musíte být přihlášen"
          }
        }

## Job creation [/jobs]

### Create new job [POST]

Procedura vytvoří nový inzerát a dá ho do rozepsaných. Následně je možné inzerát dokončit přímo v systému Recruitis. Při správném vytvoření se vrátí i odkaz na jeho dokončení.

#### Důležitá informace:
**Při testování POST požadavku v Apiary.io na produkčním serveru: Základní token míří na testovací účet, ke kterému mají přístup i ostatní uživatelé. 
Neposílejte tedy své osobní údaje přes tento token, popřípadě si token změňte na svůj vlastní.**

#### Requirements

   + Authorization with token
   + token type: `full_access`: pro vytvoření inzerátu potřebujeme vždy full access.
   
| Request value                        | Required | Default Value   | Note                                                                                                                                                                                                                           |
|:-------------------------------------|----------|:----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `title`                              | Yes      |                 | Název pozice.                                                                                                                                                                                                                                |
| `description`                        | Yes      |                 | Popis pozice.                                                                                                                                                                                         |
| `author_id`                          | No       |                 | ID zaměstnance, pod kterým se inzerát založí (pokud není vyplněno, využije se ten, pod kterým je přihlášeno API).                                                                                                                                                                                              |


+ Request (application/json)
    + Headers
    
            Authorization: Bearer 30bcaf299e100318906fef2f442505216fa28af1.11196.99382ec77e2a79ac2af2671730817ec6

    + Body  

            {
              "title": "Testovací inzerát",
              "description": "Krátký popisek inzerátu",
              "author_id": null
            }

+ Response 201 (application/json)

        {
          "payload": {
            "id" : 12345
          },
          "meta": {
            "duration": "139.58",
            "total_duration": 330,
            "code": "api.created",
            "message": "Job was created."
          }
        }
        
+ Response 400 (application/json)
        
        {
          "payload": null,
          "meta": {
            "duration": "139.58",
            "total_duration": 330,
            "code": "api.error.generic",
            "message": "Can't create job"
          }
        }
        
        
## Job channels list [/jobs/{id}/channels]

### Show list of channels [GET]

Zobrazení všech kanálů, kde je inzerát publikován.

#### Requirements
        
   + Authorization with token
   + token type: `full_access`: pro publikaci inzerátu je potřeba full access
   
+ Request (application/json)
    + Headers
    
            Authorization: Bearer 30bcaf299e100318906fef2f442505216fa28af1.11196.99382ec77e2a79ac2af2671730817ec6

+ Response 200 (application/json)

    # todo
        {
          "payload": [
            {
              "id": 3,
              "name": "Kariérní stránky společnosti Český Trh Práce s.r.o.",
              "date_from": null,
              "date_to": "2020-02-14 07:14:06",
              "paused": false
            },
            {
              "id": 125,
              "name": "startupjobs",
              "date_from": null,
              "date_to": "2020-01-20 10:00:00",
              "paused": false
            }
          ],
          "meta": {
            "code": "api.found",
            "duration": 930,
            "message": "Job channels found",
            "entries_from": 0,
            "entries_to": 2,
            "entries_total": 2,
            "entries_sum": 2
          }
        }
              
+ Response 404 (application/json)
        
        {
          "payload": null,
          "meta": {
            "duration": 139.58,
            "code": "api.error.not_found",
            "message": "Attachment does not exists."
          }
        } 


## Publishing on channel [/jobs/{id}/channel/{channel_id}]

### Publish job [PUT]

Vystavení aktivního inzerátu na nějakém z prezentačních kanálů. V případě, že je inzerát na daném kanálu již vystaven, bude nastavení aktualizováno.


#### Requirements

   + Authorization with token
   + token type: `full_access`: pro publikaci inzerátu je potřeba full access

| Request value                        | Required | Type      | Default Value   | Note                                                                                                                  |
|:-------------------------------------|----------|:----------|-----------------|-----------------------------------------------------------------------------------------------------------------------|
| `date_from`                          | Yes      | datetime  |                 | Datum, od kdy má být inzerát na daném kanále vystaven. Pokud není vyplněno, použije se aktuální datum a čas.          |
| `date_to`                            | Yes      | datetime  |                 | Datum, do kdy má být inzerát na daném kanále vystaven.                                                                |


+ Request (application/json)
    + Headers
    
            Authorization: Bearer 30bcaf299e100318906fef2f442505216fa28af1.11196.99382ec77e2a79ac2af2671730817ec6

    + Body  

            {
              "date_from": "2020-01-01 10:00:00",
              "date_to": null
            }

+ Parameters
    + id (numeric,`123456`) - Id inzerátu.
    + channel_id (optional,numeric,`1`) - Id publikačního kanálu.
        
+ Response 200 (application/json)

        {
          "payload": [
            {
              "id": 3,
              "name": "Kariérní stránky společnosti Český Trh Práce s.r.o.",
              "date_from": null,
              "date_to": "2020-02-14 07:14:06",
              "paused": false
            },
            {
              "id": 125,
              "name": "startupjobs",
              "date_from": null,
              "date_to": "2020-01-20 10:00:00",
              "paused": false
            }
          ],
          "meta": {
            "code": "api.updated",
            "duration": 930,
            "message": "Job was successfully published on channel 125",
            "entries_from": 0,
            "entries_to": 2,
            "entries_total": 2,
            "entries_sum": 2
          }
        }
        
+ Response 400 (application/json)
        
        {
          "payload": null,
          "meta": {
            "duration": "139.58",
            "total_duration": 330,
            "code": "api.error.generic",
            "message": "Draft cannot be published"
          }
        }
        
+ Response 404 (application/json)
        
        {
          "payload": null,
          "meta": {
            "duration": 139.58,
            "code": "api.error.not_found",
            "message": "Attachment does not exists."
          }
        }
        
        
### Unpublish job [DELETE]

Stažení inzerátu z prezentačního kanálu.

#### Requirements

   + Authorization with token
   + token type: `full_access`: pro publikaci inzerátu je potřeba full access
   
+ Request (application/json)
    + Headers
    
            Authorization: Bearer 30bcaf299e100318906fef2f442505216fa28af1.11196.99382ec77e2a79ac2af2671730817ec6

+ Response 202 (application/json)

        {
          "payload": [
            {
              "id": 3,
              "name": "Kariérní stránky společnosti Český Trh Práce s.r.o.",
              "date_from": null,
              "date_to": "2020-02-14 07:14:06",
              "paused": false
            }
          ],
          "meta": {
            "code": "api.updated",
            "duration": 1040,
            "message": "Job was successfully unpublished from channel 125",
            "entries_from": 0,
            "entries_to": 1,
            "entries_total": 1,
            "entries_sum": 1
          }
        }
        
+ Response 400 (application/json)
        
        {
          "payload": null,
          "meta": {
            "duration": "139.58",
            "total_duration": 330,
            "code": "api.error.generic",
            "message": "Draft cannot be unpublished"
          }
        }
        
+ Response 404 (application/json)
        
        {
          "payload": null,
          "meta": {
            "duration": 139.58,
            "code": "api.error.not_found",
            "message": "Attachment does not exists."
          }
        }


## Communication with candidate [/jobs/{id}/communication{?limit,page,candidate_id,direction,type}]      
        
### List communication with candidates [GET]

Výpis komunikace s kandidáty.

+ Request (application/json)
    + Headers
    
            Authorization: Bearer 30bcaf299e100318906fef2f442505216fa28af1.11196.99382ec77e2a79ac2af2671730817ec6
            
+ Response 200 (application/json)

        {
          "payload": [
            {
              "message_id": 1,
              "employee_id": 123,
              "author_id": 123,
              "candidate_id": 1122,
              "answer_id": 3344,
              "sender": "já",
              "recipient": "taky já",
              "direction": "in",
              "subject": "předmět",
              "content": "obsah komunikace, někdo někoho pěkně pomlouvá",
              "attachments": []
            },
            {
              "message_id": 2,
              "employee_id": 123,
              "author_id": 123,
              "candidate_id": 1122,
              "answer_id": 3344,
              "sender": "Pavel Vais",
              "recipient": "Test Dva",
              "direction": "in",
              "subject": "předmět",
              "content": "obsah komunikace, někdo někoho pěkně pomlouvá",
              "attachments": []
            },
            {
              "message_id": 3,
              "employee_id": 123,
              "author_id": 456,
              "candidate_id": 1122,
              "answer_id": 3344,
              "sender": "Lukáš Test",
              "recipient": "Test Dva",
              "direction": "out",
              "subject": "předmět",
              "content": "obsah komunikace, někdo někoho pěkně chválí",
              "attachments": [
                {
                  "url": "download url",
                  "name": "test.png",
                  "size": 10.2,
                  "size_unit": "kB"
                }
              ]
            },
            {
              "message_id": 4,
              "employee_id": 123,
              "author_id": 456,
              "candidate_id": 1122,
              "answer_id": 3344,
              "sender": "Lukáš Test",
              "recipient": "Test Dva",
              "direction": "out",
              "subject": "předmět",
              "content": "obsah komunikace, někdo někoho pěkně chválí, opakovaně",
              "attachments": [
                {
                  "url": "download url",
                  "name": "cv.txt",
                  "size": 0.09,
                  "size_unit": "kB"
                }
              ]
            }
          ],
          "meta": {
            "code": "api.found",
            "duration": 1990,
            "message": "Candidate communication found.",
            "entries_from": 1,
            "entries_to": 20,
            "entries_total": 4,
            "entries_sum": 4
          }
        }

# Group Candidates
Kandidát je osoba, kterou máte v databázi a na kterou se vztahují odpovědi.

**Žhaví kandidáti**
Pokud chcete, aby byl uchazeč označen systémem jako "žhavý kandidát", tj. kandidát, 
který je vidět na hlavní stránce, přiložte k němu tag "`tag.hot`". Více o žhavých kandidátech v Recruitisu.

## Candidate entity [/candidates]

### Create new candidate [POST]
Procedura na uložení nového uchazeče. Jako odpověď se vrátí ID kandidáta. 
Vytvoření kandidáta bez odpovědi se hodí například, pokud chcete nabídnout uchazeči možnost vás kontaktovat, ale nemáte pro něj momentálně vhodný inzerát. 

Pokud se vkládá uchazeč, který dle emailu nebo telefonního čísla v systému již existuje, provede se aktualizace informací a vrátí se dané user ID. O všem jste
informovaní přes meta položku `additional_output`.

#### Důležitá informace:
**Při testování POST požadavku v Apiary.io na produkčním serveru: Základní token míří na testovací účet, ke kterému mají přístup i ostatní uživatelé. 
Neposílejte tedy své osobní údaje přes tento token, popřípadě si token změňte na svůj vlastní.**

#### Requirements

   + Authorization with token
   + token type: `public_access`
   
| Request value                        | Required | Default Value   | Note                                                                                                                                                                                                                           |
|:-------------------------------------|----------|:----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `name`                               | Yes      |                 |                                                                                                                                                                                                                                |
| `email`                              | No       |                 | Uchazeči se dle emailu slučují.                                                                                                                                                                                                |
| `phone`                              | No       |                 | Uchazeči se dle telefonu slučují.                                                                                                                                                                                              |
| `skype`                              | No       |                 |                                                                                                                                                                                                                                |
| `linkedin`                           | No       |                 |                                                                                                                                                                                                                                |
| `facebook`                           | No       |                 |                                                                                                                                                                                                                                |
| `twitter`                            | No       |                 |                                                                                                                                                                                                                                |
| `strict`                             | No       | false           | Pokud je uvedena hodnotou "1", poté se při nezdaru nahrávání přílohy zastaví celý proces a vrátí se chyba. V opačném případě se uchazeč nahraje s informací, že ne všechno se nahrálo správně (viz `meta.additional_output`). |
| `im_author`                          | No       | false           | Pokud je true, potom je daný personalista určen jako autor odpovědi, včetně poznámek. V opačném případě nebudou mít poznámky žádného autora a budou tkz. systémové.                                                |
| `gdpr_agreement`                     | Yes      |                 | GDPR souhlas uchazeče o správě jeho osobních informací. Bez souhlasu není možné uchazeče importovat.                                                                                                                           |
| `gdpr_agreement` - `date_expiration` | No       | 1 year from now | Formát YYYY-MM-DD                                                                                                                                                                                                              |
| `gdpr_agreement` - `source`          | No       | "manual"        | Stringové označení, odkud byl GDPR souhlas pořízen.                                                                                                                                                                            |
| `attachments`                        | No       |                 | Velikost souboru nesmí přesáhnout 3 MB.                                                                                                                                                                                         |
| `attachment` - `path`                | Yes      |                 | Atribut `path` nebo `base64` je vyžadován. Ujistěte se, že je soubor dostupný z jiné domény.                                                                                                                                   |
| `attachment` - `base64`              | Yes      |                 | Atribut `path` nebo `base64` je vyžadován. Data souboru vs base64 formátu.                                                                                                                                                     |
| `attachment` - `filename`            | Yes      |                 | Název souboru. Musí obsahovat koncovku a čitelné znaky. Mezery budou nahrazeny podtržítkem.                                                                                                                                    |
| `attachment` - `type`                | No       | 1               | @see Enumeration section                                                                                                                                                                                                       |
| `extra`                              | No       |                 | Pole objektů, které přiřadí k odpovědi poznámku nebo tag.                                                                                                                                                                     |
| `extra` - `note`                     | Yes      |                 | Atribut `note` nebo `tag` je vyžadován. Pokud je určeno, uloží se hodnota jako poznámka. **Maximální délka poznámky je 800 znaků.**                                                                                             |
| `extra` - `tag`                      | Yes      |                 | Atribut `note` nebo `tag` je vyžadován. Pokud je určeno, uloží se hodnota jako tag k uchazeči. **Maximální délka poznámky je 100 znaků.**                                                                                       |


+ Request (application/json)
    + Headers
    
            Authorization: Bearer 30bcaf299e100318906fef2f442505216fa28af1.11196.99382ec77e2a79ac2af2671730817ec6

    + Body  

            {
              "name": "Pavel Test",
              "email": "foo@bar.com",
              "skype": "foo@bar.com",
              "linkedin": "https://example.com",
              "facebook": "https://example.com",
              "twitter": "https://example.com",
              "phone": 12345678,
              "gdpr_agreement": {
                "date_expiration": "2020-10-31",
                "source": "elektronická forma"
              },
              "extra" : [
                {
                  "note" : "Toto je text, který se uloží jako poznámka k danému uchazeči"
                },
                {
                  "tag" : "Toto je uchazečův tag"
                }
              ],
              "attachments": [
                {
                  "path" : "http://www.example.com/upload/cv.txt",
                  "filename": "cv.txt",
                  "type": 1
                },
                {
                  "base64" : "iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABI1BMVEX////9/v/1+vz7/f75/P3b6/WTw+JUoNF3tNrs9fqgy+XL4vGt0ekihcMdgsJWodHW6PRnq9anzuf+//98ttwnh8XJ4fDA3O5BlsyEu96WxeM+lMvf7fa11usyjshcpdPu9vrl8fhhqNQsisZGmc242OwvjMc2kMnQ5fLx9/vs9PrF3+8egsKYxuNIms5ToNHt9fr4+/1zstkkhsS01eu21+tbpNPz+fzy+PtYo9IhhMOu0um72e0lhsTr9Pl0stmKvt/o8vlAlswpicXH4PBMnM/w9/umzud7ttuOwOCq0Oh+uNwqicbO5PJ5tds9lMvm8fh9t9xSn9D0+fz8/v6eyuV6tduIvd/U5/QrisaSw+JEmM1srteeyeXP5fKjzObB3e67gPv3AAAAAWJLR0QAiAUdSAAAAAd0SU1FB98MCxI0KKxwQkkAAADqSURBVDjLxdLJUsJQFATQlwRUUFsQAjKriAEMCDKqjE6As0wqAvL/XwEW69DZUPbqLk513ffqCvGvkWRlOVisspGRNza3rH+Dzb5tWLSzC+zZhHA4912GyA1A9QjvgU8xXsm/QIFgKBw5XLH30XH0JBY61eIrX5dwJM80PcU+IZjGeYaY7AVyeVZUUFEsEVO+xNU1K6pUka4RI9WBBitq3uDWw9CdivsHhlpAmxnRgf5I0ROeXyh6xds7RR/o9ihqwNmnaIAhNSKmf3L09T3iKPPj50gam0BiQs97kemvCZSYmUBSzWVCrTdzroQWUBRujJsAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMTItMTFUMTg6NTI6NDArMDE6MDCHteiRAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE1LTEyLTExVDE4OjUyOjQwKzAxOjAw9uhQLQAAAFd6VFh0UmF3IHByb2ZpbGUgdHlwZSBpcHRjAAB4nOPyDAhxVigoyk/LzEnlUgADIwsuYwsTIxNLkxQDEyBEgDTDZAMjs1Qgy9jUyMTMxBzEB8uASKBKLgDqFxF08kI1lQAAAABJRU5ErkJggg==",
                  "filename": "logo.jpg",
                  "type": 4

                },
                {
                  "path" : "http://www.example.com/upload/gdpr_agreement.pdf",
                  "filename": "souhlas.pdf",
                  "type": 5
                }
              ]
            }

+ Response 201 (application/json)

        {
          "payload": {
            "id" : 12345
          },
          "meta": {
            "duration": "139.58",
            "total_duration": 330,
            "code": "api.created",
            "message": "Candidate was created."
          }
        }
        
+ Response 400 (application/json)
        
        {
          "payload": null,
          "meta": {
            "duration": "139.58",
            "total_duration": 330,
            "code": "api.error.generic",
            "message": "Can't upload attachment."
          }
        }
        
        
### Delete candidate [DELETE /candidates/{id}]

Toto volání smaže kompletně daného uchazeče a všechny informace, které jsou k němu přidruženy. 
Všechny jeho odpovědi, pohovory, poznámky, přílohy, GDPR souhlasy atd. **Takto smazaný uchazeč se již nedá jakkoli obnovit.**

Na toto volání se vztahuje denní kvóta. V případě překročení denní kvóty se vrátí odpověď `403 - forbidden` s `meta.code` `api.error.quota.exceeded`.

+ Parameters
     + id (required, number, `1`) - ID kandidáta (user ID)

    
+ Response 200 (application/json)

        {
          "payload": null,
          "meta": {
            "duration": "139.58",
            "total_duration": 330,
            "code": "api.deleted",
            "message": "User was deleted."
          }
        }
        
+ Response 404 (application/json)
        
        {
          "payload": null,
          "meta": {
            "duration": "139.58",
            "total_duration": 330,
            "code": "api.error.not_found",
            "message": "User ID XXX doesn't exists."
          }
        }

+ Response 403 (application/json)
        
        {
          "payload": null,
          "meta": {
            "duration": "139.58",
            "total_duration": 330,
            "code": "api.error.quota.exceeded",
            "message": "Daily 'quota_candidates_delete quota' has been exceeded."
          }
        }
        

## Communication with candidate [/candidate/{id}(/{answer_id})/communication{?limit,page,author_id,direction,type}]

### List candidate communication [GET]

Výpis komunikace s kandidátem. Bez vyplněného parametru `answer_id` vypíše komunikaci vázanou přímo na kandidáta. Při vyplnění `answer_id` vypíše komunikaci vázanou na danou odpověď.

| Parameter `type` | Note                                           |
|-:----------------|------------------------------------------------|
| linkedin         | Komunikace ze sociální sítě LinkedIn           |
| email            | Komunikace z emailové schránky                 |
| sms              | Komunikace ze sociální sítě LinkedIn           |
| note             | Komunikace s klientem proběhla na jiném místě. |


+ Request (application/json)
    + Headers
    
            Authorization: Bearer 30bcaf299e100318906fef2f442505216fa28af1.11196.99382ec77e2a79ac2af2671730817ec6

+ Parameters
    + limit (optional,numeric,`10`) - Počet entit, které se mohou zobrazit.
    + page (optional,numeric,`1`) - Strana s výpisem inzerátů.
    + author_id (optional,int) - Omezení na konkrétního autora zprávy (ID personalisty).
    + direction (optional,string) - Omezení na určité směr zprávy. Povolené hodnoty jsou "in" a "out"
    + type (optional,string) - viz tabulka níže
    
+ Response 200 (application/json)

        {
          "payload": [
            {
              "message_id": 1,
              "employee_id": 123,
              "author_id": 123,
              "candidate_id": 1122,
              "answer_id": 3344,
              "sender": "já",
              "recipient": "taky já",
              "direction": "in",
              "subject": "předmět",
              "content": "obsah komunikace, někdo někoho pěkně pomlouvá",
              "attachments": []
            },
            {
              "message_id": 2,
              "employee_id": 123,
              "author_id": 123,
              "candidate_id": 1122,
              "answer_id": 3344,
              "sender": "Pavel Vais",
              "recipient": "Test Dva",
              "direction": "in",
              "subject": "předmět",
              "content": "obsah komunikace, někdo někoho pěkně pomlouvá",
              "attachments": []
            },
            {
              "message_id": 3,
              "employee_id": 123,
              "author_id": 456,
              "candidate_id": 1122,
              "answer_id": 3344,
              "sender": "Lukáš Test",
              "recipient": "Test Dva",
              "direction": "out",
              "subject": "předmět",
              "content": "obsah komunikace, někdo někoho pěkně chválí",
              "attachments": [
                {
                  "url": "download url",
                  "name": "test.png",
                  "size": 10.2,
                  "size_unit": "kB"
                }
              ]
            },
            {
              "message_id": 4,
              "employee_id": 123,
              "author_id": 456,
              "candidate_id": 1122,
              "answer_id": 3344,
              "sender": "Lukáš Test",
              "recipient": "Test Dva",
              "direction": "out",
              "subject": "předmět",
              "content": "obsah komunikace, někdo někoho pěkně chválí, opakovaně",
              "attachments": [
                {
                  "url": "download url",
                  "name": "cv.txt",
                  "size": 0.09,
                  "size_unit": "kB"
                }
              ]
            }
          ],
          "meta": {
            "code": "api.found",
            "duration": 1990,
            "message": "Candidate communication found.",
            "entries_from": 1,
            "entries_to": 20,
            "entries_total": 4,
            "entries_sum": 4
          }
        }


### Create new communication record [POST /candidate/{id}(/{answer_id})/communication]
Založení nového záznamu komunikace (zprávy) s klientem. Parametr `answer_id` funguje stejně jako u GET volání.

#### Requirements

   + Authorization with token
   
| Request value                        | Required | Default Value   | Note                                                                                                                                            |
|:-------------------------------------|----------|-----------------|-------------------------------------------------------------------------------------------------------------------------------------------------|
| `employee_id`                        | Yes      |                 | ID uživatele, který zprávu posílá.                                                                                                              |
| `author_id`                          | No       | employee_id     | ID uživatele, vyplťte, pokud je autor jiný uživatel, než ten, který zprávu posílá. Pokud nevyplněno, použije se employee_i                      |
| `sender`                             | No       |                 | Textová podoba odesílatele (jméno, email, telefoní číslo (SMS)), pokud nebude vyplněno, použijí se data vázaná na author_id.                    |
| `recipient`                          | No       |                 | Dtto. sender.                                                                                                                                   |
| `subject`                            | Yes      |                 | Předmět zprávy.                                                                                                                                 |
| `content`                            | Yes      |                 | Obsah zprávy.                                                                                                                                   |
| `direction`                          | Yes      |                 | Jedna z hodnot: in = příchozí, out = odchozí, váže se ke kandidátovi/odpovědi. Tj. příchozí ke kandidátovi a odchozí od kandidáta.              |
| `strict`                             | No       | 1               | Určuje chování uploadu při chybě, pokud 1, tak se uloží vše, nebo nic. Pokud 0, v meta tagu budou informace o neuložených přílohách.            |
| `date_action`                        | No       | now             | Datum vytvoření komunikace.                  |
| `attachments`                        | No       |                 | Velikost souboru nesmí přesáhnout 3 MB.                                                                                                         |
| `attachment` - `path`                | Yes      |                 | Atribut `path` nebo `base64` je vyžadován. Ujistěte se, že je soubor dostupný z jiné domény.                                                    |
| `attachment` - `base64`              | Yes      |                 | Atribut `path` nebo `base64` je vyžadován. Data souboru vs base64 formátu.                                                                      |
| `attachment` - `filename`            | Yes      |                 | Název souboru. Musí obsahovat koncovku a čitelné znaky. Mezery budou nahrazeny podtržítkem.                                                     |


+ Request (application/json)
    + Headers
    
            Authorization: Bearer 30bcaf299e100318906fef2f442505216fa28af1.11196.99382ec77e2a79ac2af2671730817ec6

    + Body  
    
            {
              "employee_id": 123,
              "author_id": 456,
              "sender": "Pavel",
              "recipient": "Lukáš",
              "subject": "předmět",
              "content": "obsah komunikace, třeba pěkná pochvala",
              "direction": "in",
              "type": "email",
              "strict": 1,
              "attachments": [
                {
                  "path" : "http://www.example.com/upload/cv.txt",
                  "filename": "cv.txt"
                },
                {
                  "base64" : "iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABI1BMVEX////9/v/1+vz7/f75/P3b6/WTw+JUoNF3tNrs9fqgy+XL4vGt0ekihcMdgsJWodHW6PRnq9anzuf+//98ttwnh8XJ4fDA3O5BlsyEu96WxeM+lMvf7fa11usyjshcpdPu9vrl8fhhqNQsisZGmc242OwvjMc2kMnQ5fLx9/vs9PrF3+8egsKYxuNIms5ToNHt9fr4+/1zstkkhsS01eu21+tbpNPz+fzy+PtYo9IhhMOu0um72e0lhsTr9Pl0stmKvt/o8vlAlswpicXH4PBMnM/w9/umzud7ttuOwOCq0Oh+uNwqicbO5PJ5tds9lMvm8fh9t9xSn9D0+fz8/v6eyuV6tduIvd/U5/QrisaSw+JEmM1srteeyeXP5fKjzObB3e67gPv3AAAAAWJLR0QAiAUdSAAAAAd0SU1FB98MCxI0KKxwQkkAAADqSURBVDjLxdLJUsJQFATQlwRUUFsQAjKriAEMCDKqjE6As0wqAvL/XwEW69DZUPbqLk513ffqCvGvkWRlOVisspGRNza3rH+Dzb5tWLSzC+zZhHA4912GyA1A9QjvgU8xXsm/QIFgKBw5XLH30XH0JBY61eIrX5dwJM80PcU+IZjGeYaY7AVyeVZUUFEsEVO+xNU1K6pUka4RI9WBBitq3uDWw9CdivsHhlpAmxnRgf5I0ROeXyh6xds7RR/o9ihqwNmnaIAhNSKmf3L09T3iKPPj50gam0BiQs97kemvCZSYmUBSzWVCrTdzroQWUBRujJsAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMTItMTFUMTg6NTI6NDArMDE6MDCHteiRAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE1LTEyLTExVDE4OjUyOjQwKzAxOjAw9uhQLQAAAFd6VFh0UmF3IHByb2ZpbGUgdHlwZSBpcHRjAAB4nOPyDAhxVigoyk/LzEnlUgADIwsuYwsTIxNLkxQDEyBEgDTDZAMjs1Qgy9jUyMTMxBzEB8uASKBKLgDqFxF08kI1lQAAAABJRU5ErkJggg==",
                  "filename": "logo.jpg"

                },
                {
                  "path" : "http://www.example.com/upload/gdpr_agreement.pdf",
                  "filename": "souhlas.pdf"
                }
              ]
            }

+ Response 201 (application/json)

        {
          "payload": {
            "id": 1
          },
          "meta": {
            "duration": 2259,
            "code": "api.created",
            "message_localized": "Answer was created."
          }
        }
        
+ Response 400 (application/json)
        
        {
          "payload": null,
          "meta": {
            "errors": {
              "validation": {
                "direction": ["Object property 'direction' has wrong value. Allowed enum values: in, out"]
              }
            },
            "duration": "139.58",
            "total_duration": 330,
            "code": "api.error.generic",
            "message": "Can't upload attachment."
          }
        }


## Answer list [/answers{?limit,page,job_id,flow_id,search}]

Odpověď patří pod entitu kandidáta. Pokud si to máme relačně představit, vztah mezi kandidátem a odpověďmi je 1:N. V této sekci se podíváme na získávání odpovědí a její vytvoření. 

### Create new answer [POST]
Procedura na uložení nové odpovědi. Jako odpověď se vrátí ID odpovědi. Při vytváření odpovědi se vytvoří i nový uchazeč, pokud již s danými kontakty (email, telefon) neexistuje.
V druhém případě se přiřadí k již existujícímu.

API nepodporuje vložení duplikátních odpovědí. Pokud (dle emailu nebo telefonu) již uchazeč
na daný inzerát odpovídal, vrátí se jeho answer ID s kódem: `meta`.`code` = `api.unmodified`.

Poznámka: Souhlas se zpracováním osobních údajů dostává takto vytvořená odpověď automaticky. Její platnost je v základním nastavení 1 rok. Pokud byste si přáli toto nastavení změnit, kontaktujte nás. 

#### Důležitá informace:
**Při testování POST požadavku v Apiary.io na produkčním serveru: Základní token míří na testovací účet, ke kterému mají přístup i ostatní uživatelé. 
Neposílejte tedy své osobní údaje přes tento token, popřípadě si token změňte na svůj vlastní.**

#### Requirements

   + Authorization with token
   + token type: `public_access`: pokud se jedná o veřejný inzerát (vystaven na firemních stránkách, xml nebo na pracovních portálech).
   + token type: `full_access`: pokud se jedná o interní inzerát.    
   
| Request value                        | Required | Default Value   | Note                                                                                                                                                                                                           |
|:-------------------------------------|----------|-----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `job_id`                             | Yes      |                 |                                                                                                                                                                                                                |
| `name`                               | Yes      |                 |                                                                                                                                                                                                                |
| `email`                              | No       |                 |                                                                                                                                                                                                                |
| `phone`                              | No       |                 |                                                                                                                                                                                                                |
| `skype`                              | No       |                 | Odkaz na Skype uchazeče.                                                                                                                                                                                    |
| `linkedin`                           | No       |                 | Odkaz na LinkedIn uchazeče.                                                                                                                                                                                  |
| `facebook`                           | No       |                 | Odkaz na Facebook uchazeče.                                                                                                                                                                                  |
| `twitter`                            | No       |                 | Odkaz na Twitter uchazeče.                                                                                                                                                                                  |
| `source_id`                          | No       | -1              | Zdroj, odkud odpověď přišla. Více u volání `GET \enums\sources`.                                                                                                                                                |
| `source`                             | No       |                 | String. Zdroj odpovědi, který se automaticky vytvoří (tudíž není potřeba znát jeho ID.) Pokud zdroj již existuje, přiřadí se k existujícímu. Tato položka je **ignorována**, pokud je udána hodnota `source_id`. |
| `referral_id`                        | No       |                 | ID referrala (ID získané z Recruitis referral stránky, API pro referraly je v plánu).                                                                                                                           |
| `cover_letter`                       | No       |                 |                                                                                                                                                                                                                |
| `gdpr_agreement`                     | No       |                 | Pokud je objekt uveden, k odpovědi se přidá i GDPR souhlas se zařazením do databáze uchazečů pro danou firmu.                                                                                                    |
| `gdpr_agreement` - `date_expiration` | No       | 1 year from now | formát YYYY-MM-DD                                                                                                                                                                                              |
| `gdpr_agreement` - `date_created`    | No       | now             | formát YYYY-MM-DD HH:MM:SS                                                                                                                                                                                        |
| `gdpr_agreement` - `source`          | No       | "manual"        | Stringové označení, odkud byl GDPR souhlas pořízen.                                                                                                                                                            |
| `attachments`                        | No       |                 | Velikost souboru nesmí přesáhnout 3 MB.                                                                                                                                                                         |
| `attachment` - `path`                | Yes      |                 | Atribut `path` nebo `base64` je vyžadován. Ujistěte se, že je soubor dostupný z jiné domény.                                                                                                                   |
| `attachment` - `base64`              | Yes      |                 | Atribut `path` nebo `base64` je vyžadován. Data souboru vs. base64 formátu.                                                                                                                                     |
| `attachment` - `filename`            | Yes      |                 | Název souboru. Musí obsahovat koncovku a čitelné znaky. Mezery budou nahrazeny podtržítkem.                                                                                                                    |
| `attachment` - `type`                | No       | 1               | @see Enumeration section                                                                                                                                                                                       |
| `extra`                              | No       |                 | Pole objektů, které přiřadí k odpovědi poznámku nebo tag.                                                                                                                                                     |
| `extra` - `note`                     | Yes      |                 | Atribut `note` nebo `tag` je vyžadován. Pokud je určeno, uloží se hodnota jako poznámka. **Maximální délka poznámky je 800 znaků.**                                                                             |
| `extra` - `tag`                      | Yes      |                 | Atribut `note` nebo `tag` je vyžadován. Pokud je určeno, uloží se hodnota jako tag k uchazeči. **Maximální délka poznámky je 100 znaků.**                                                                       |

**GDPR a souhlas se zpracováním osobních údajů k dané pozici:**
Pokud není určen GDPR souhlas, tak souhlas se zpracováním os. údajů dostává uchazeč k dané pozici vždy automaticky na rok, popř. do skončení pozice. Jako zdroj souhlasu se uvádí "api". 
Pokud GDPR souhlas určen je, tak souhlas se zpracováním os. údajů dědí jeho zdroj a také datum expirace (maximálně ale na rok).  

+ Request (application/json)
    + Headers
    
            Authorization: Bearer 30bcaf299e100318906fef2f442505216fa28af1.11196.99382ec77e2a79ac2af2671730817ec6

    + Body  
    
            {
              "job_id": 123456,
              "source_id": 1,
              "name": "Pavel Test",
              "email": "foo@bar.com",
              "skype": "foo@bar.com",
              "linkedin": "https://example.com",
              "phone": 123456678,
              "cover_letter": "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce porttitor consequat augue, eu porttitor ex blandit sit amet. Morbi sed lorem lorem. In aliquet cursus nunc, ut porttitor orci viverra non. Aenean ultrices vestibulum venenatis. Nullam facilisis justo ut tincidunt elementum. Praesent molestie nibh libero, eget efficitur odio interdum vel. Suspendisse augue ipsum, scelerisque eget massa non, pellentesque vehicula augue. Cras mollis vehicula pharetra. Phasellus neque nisi, facilisis nec dui in, bibendum lacinia leo",
              "gdpr_agreement": {
                "date_expiration": "2020-10-31",
                "source": "elektronická forma"
              },
              "extra": [
                {
                  "note": "Toto je text, který se uloží jako poznámka k danému uchazeči"
                },
                {
                  "tag": "Toto je uchazečův tag"
                }
              ],
              "attachments": [
                {
                  "path": "http://www.example.com/upload/cv.txt",
                  "filename": "cv.txt",
                  "type": 1
                },
                {
                  "base64": "iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAMAAADW3miqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABI1BMVEX////9/v/1+vz7/f75/P3b6/WTw+JUoNF3tNrs9fqgy+XL4vGt0ekihcMdgsJWodHW6PRnq9anzuf+//98ttwnh8XJ4fDA3O5BlsyEu96WxeM+lMvf7fa11usyjshcpdPu9vrl8fhhqNQsisZGmc242OwvjMc2kMnQ5fLx9/vs9PrF3+8egsKYxuNIms5ToNHt9fr4+/1zstkkhsS01eu21+tbpNPz+fzy+PtYo9IhhMOu0um72e0lhsTr9Pl0stmKvt/o8vlAlswpicXH4PBMnM/w9/umzud7ttuOwOCq0Oh+uNwqicbO5PJ5tds9lMvm8fh9t9xSn9D0+fz8/v6eyuV6tduIvd/U5/QrisaSw+JEmM1srteeyeXP5fKjzObB3e67gPv3AAAAAWJLR0QAiAUdSAAAAAd0SU1FB98MCxI0KKxwQkkAAADqSURBVDjLxdLJUsJQFATQlwRUUFsQAjKriAEMCDKqjE6As0wqAvL/XwEW69DZUPbqLk513ffqCvGvkWRlOVisspGRNza3rH+Dzb5tWLSzC+zZhHA4912GyA1A9QjvgU8xXsm/QIFgKBw5XLH30XH0JBY61eIrX5dwJM80PcU+IZjGeYaY7AVyeVZUUFEsEVO+xNU1K6pUka4RI9WBBitq3uDWw9CdivsHhlpAmxnRgf5I0ROeXyh6xds7RR/o9ihqwNmnaIAhNSKmf3L09T3iKPPj50gam0BiQs97kemvCZSYmUBSzWVCrTdzroQWUBRujJsAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMTItMTFUMTg6NTI6NDArMDE6MDCHteiRAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE1LTEyLTExVDE4OjUyOjQwKzAxOjAw9uhQLQAAAFd6VFh0UmF3IHByb2ZpbGUgdHlwZSBpcHRjAAB4nOPyDAhxVigoyk/LzEnlUgADIwsuYwsTIxNLkxQDEyBEgDTDZAMjs1Qgy9jUyMTMxBzEB8uASKBKLgDqFxF08kI1lQAAAABJRU5ErkJggg==",
                  "filename": "logo.jpg",
                  "type": 4
                },
                {
                  "path": "http://www.example.com/upload/gdpr_agreement.pdf",
                  "filename": "souhlas.pdf",
                  "type": 5
                }
              ]
            }

+ Response 201 (application/json)

        {
          "payload": {
            "id": 1
          },
          "meta": {
            "duration": 2259,
            "code": "api.created",
            "message_localized": "Answer was created."
          }
        }
        
+ Response 400 (application/json)
        
        {
          "payload": null,
          "meta": {
            "duration": "139.58",
            "total_duration": 330,
            "code": "api.error.generic",
            "message": "Can't upload attachment."
          }
        }

### Get All Answers [GET]

Tento dotaz vrací seznam všech odpovědí. Dají se filtrovat dle konkrétních inzerátů, flow, a nebo aplikovat vyhledávání dle jména uchazeče.

Pokud dotaz nenajde žádné odpovídající odpovědi, vrací se http status `200` s meta code `api.response.null`.

#### Parameters info

 Poznámka: Všechny array parametry udávejte buď jako jednu hodnotu (např. `&job_id=XXX`) nebo 
 jako více hodnot za sebou (např. `&job_id[]=XXX&job_id[]=YYY`).
 
| Parameter   | Required | Default Value  | Note                                                                                                             |
|:------------|----------|----------------|------------------------------------------------------------------------------------------------------------------|
| `limit`     | No       | 20             | Maximální limit pro stránkovač je 50. Pokud není určen, vrací 20 položek.                                        |
| `page`      | No       | 1              | Aktuální stránka.                                                                                                |
| `job_id`    | No       |                | Int,Array. Filtrování odpovědí dle ID inzerátů.                                                                  |
| `flow_id`   | No       |                | Int,Array. Filtrování odpovědí dle Flow ID. (Dokumentaci k flow připravujeme.)                                   |
| `search`    | No       |                | Filtrace podle ID jednotlivých filtračních položek přiřazených k inzerátu. Více v sekci filtračních položek.     |
| `date_from` | No       |                | Datum ve formátu "YYYY-MM-DD". Omezení, od jakého data  (včetně) se odpovědi vypíšou.                            |
| `date_to`   | No       |                | Datum ve formátu "YYYY-MM-DD". Omezení, do jakého data (včetně)se odpovědi vypíšou.                              |
| `order`     | No       | "date_created" | Řazení odpovědí. `date_created` vrací odpovědi dle data vzniku odpovědi, `flow` vrací odpovědi dle jejich stavu. |
| `exported`  | No       |                | Stav exportu odpovědi. Závisí na čísleníku společnosti, viz export odpovědi.                                     |

#### Response parameters
   
| Parameter                          | token condition | Type          | Note                                                                                                                                                                  |
|------------------------------------|-----------------|---------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `candidate_id`                     | `full_access`   | int           | ID kandidáta, ke kterému se odpověd vztahuje.                                                                                                                         |
| `answer_id`                        | `full_access`   | int           | ID odpovědi.                                                                                                                                                          |
| `name`                             | `full_access`   | object        |                                                                                                                                                                       |
| `name` - `first_name`              | `full_access`   | int           |                                                                                                                                                                       |
| `name` - `last_name`               | `full_access`   | string        |                                                                                                                                                                       |
| `name` - `initials`                | `full_access`   | string        | Iniciály jména                                                                                                                                                        |
| `title`                            | `full_access`   | object        |                                                                                                                                                                       |
| `title` - `before`                 | `full_access`   | string        | Titul před jménem.                                                                                                                                                    |
| `title` - `after`                  | `full_access`   | string        | Titul za jménem.                                                                                                                                                      |
| `user_img`                         | `full_access`   | string        | Cesta k obrázku uchazeče.                                                                                                                                             |
| `rating`                           | `full_access`   | int           | 0-5, hodnocení uchazeče.                                                                                                                                              |
| `job_details`                      | `full_access`   | object        |                                                                                                                                                                       |
| `job_details` - `job_title`        | `full_access`   | string        | Název inzerátu, ke kterému je odpověď přiřazena.                                                                                                                      |
| `job_details` - `job_id`           | `full_access`   | int           | ID inzerátu, ke kterému se odpověd vztahuje.                                                                                                                          |
| `job_details` - `job_contact_name` | `full_access`   | string        | Jméno konktatní osoby, přidružené k inzerátu                                                                                                                          |
| `job_details` - `job_contact_email`| `full_access`   | string        | Email kontaktní osoby.                                                                                                                                                |
| `job_details` - `job_contact_phone`| `full_access`   | string        | Telefon kontaktní osoby.                                                                                                                                              |
| `answer_created`                   | `full_access`   | datetime      | Datum vytvoření odpovědi.                                                                                                                                             |
| `phone`                            | `full_access`   | string        |                                                                                                                                                                       |
| `email`                            | `full_access`   | string        |                                                                                                                                                                       |
| `flow_id`                          | `full_access`   | int           | ID flow, ve které se odpověď zrovna nachází. (Dokumentaci k flow zatím připravujeme.)                                                                                 |
| `share_status`                     | `full_access`   | int,null      | Pokud je odpověď zrecyklovaná (zkopírovaná z jiného inzerátu) čekáme na odpověď uchazeče. NULL: není odpověď, 1: Uchazeč odpověď schválil, 0: Uchazeč odpověd zamítl. |
| `share_status_detail`              | `full_access`   | string        | Důvod zamítnutí zrecyklované odpovědi.                                                                                                                                |
| `rejected`                         | `full_access`   | null,boolean  | Značí, jestli je odpověď zamítnutá.                                                                                                                                   |
| `source`                           | `full_access`   | object        |                                                                                                                                                                       |
| `source` - `name`                  | `full_access`   | string        | Název zdroje, ke kterému se odpověď vztahuje.                                                                                                                         |
| `source` - `type`                  | `full_access`   | string        | Typ zdroje. Například jestli je to systémový email, api aj.                                                                                                           |
| `attachment_list`                  | `full_access`   | array(object) |                                                                                                                                                                       |
| `attachment_list` - `name`         | `full_access`   | string        | Název souboru.                                                                                                                                                        |
| `attachment_list` - `size`         | `full_access`   | int           | Velikost souboru.                                                                                                                                                     |
| `attachment_list` - `hash`         | `full_access`   | string        | ID (hash) souboru.                                                                                                                                                    |
| `attachment_list` - `download_url` | `full_access`   | string        | REST API url adresa na stáhnutí souboru. Při volání musíte být autorizováni `full_access` tokenem. Viz files sekce.                                                   |
| `custom_data`                      | `full_access`   | array(object) | Závislé na společnosti a vnitřní implementaci společnosti - toto pole nemusí být v payloadu přítomno.                                                                 |


#### Requirements

   + Authorization with token
   + token type: `full_access`: Práce s výpisem odpovědí vyžaduje `full_access` token.

+ Request
    + Headers
    
            Authorization: Bearer 30bcaf299e100318906fef2f442505216fa28af1.11196.99382ec77e2a79ac2af2671730817ec6

+ Parameters
    + limit (optional,numeric,`20`) - Počet entit, které se mohou zobrazit.
    + page (optional,numeric,`1`) - Strana s výpisem odpovědí.
    + job_id (optional,array[int]) - Omezení na určité pracovní obory, profese.
    + flow_id (optional,array[int]) - Vyhledá odpovědi dle jejich flow.
    + search (optional,string) - Vyhledá odpovědi dle jména
    
+ Response 200 (application/json)

        {
          "payload": [
            {
              "candidate_id": 425086,
              "answer_id": 380049,
              "name": {
                "first_name": "Jorgia",
                "last_name": "Sweet",
                "initials": "JS"
              },
              "title": {
                "before": null,
                "after": null
              },
              "user_img": "https:\/\/app.recruitis.io\/images\/no-avatar_sq.png",
              "rating": 2,
              "job_details": {
                "job_title": "Java developer",
                "job_id": 367996,
                "job_contact_name": "Jan Novák",
                "job_contact_email": "novák@test.cz",
                "job_contact_phone": "+123456789"
              },
              "answer_created": "2019-06-27 14:31:19",
              "phone": "728000000",
              "email": "jorgia_sweet@test.com",
              "flow_id": 0,
              "share_status": null,
              "share_status_detail": null,
              "source": {
                "name": "Testovací Stránky",
                "type": "Externí služba"
              },
              "attachment_list": [],
              "rejected": false
            },
            {
              "candidate_id": 425085,
              "answer_id": 380048,
              "name": {
                "first_name": "Monika",
                "last_name": "Nováková",
                "initials": "MN"
              },
              "title": {
                "before": null,
                "after": null
              },
              "user_img": "https:\/\/app.recruitis.io\/images\/no-avatar_sq.png",
              "rating": 0,
              "job_details": {
                "job_title": "Java developer",
                "job_id": 367996,
                "job_contact_name": "Jan Novák",
                "job_contact_email": "novák@test.cz",
                "job_contact_phone": "+123456789"
              },
              "answer_created": "2019-06-21 16:14:41",
              "phone": null,
              "email": "monika@test.cz",
              "flow_id": 0,
              "share_status": null,
              "share_status_detail": null,
              "source": {
                "name": "osobní předání",
                "type": "Manuálně vložený"
              },
              "attachment_list": [
                {
                  "name": "zivotopis_cameron_diaz.docx",
                  "size": 52.86,
                  "download_url": "https:\/\/api.recruitis.io\/api2\/files\/YXdQMmRtWWprNXBTY042M1hFOTdvZz09"
                },
                {
                  "name": "cameron_diaz.jpg",
                  "size": 16.66,
                  "download_url": "https:\/\/api.recruitis.io\/api2\/files\/cFMrMmRoWGpNVVNLbDlHM2lweWJ6UT09"
                }
              ],
              "rejected": false
            },
            {
              "candidate_id": 425082,
              "answer_id": 380045,
              "name": {
                "first_name": "Tereza",
                "last_name": "Barkovic",
                "initials": "TB"
              },
              "title": {
                "before": null,
                "after": null
              },
              "user_img": "https:\/\/dev.recruitis.io\/images\/no-avatar_sq.png",
              "rating": 0,
              "job_details": {
                "job_title": "Java developer",
                "job_id": 367996,
                "job_contact_name": "Jan Novák",
                "job_contact_email": "novák@test.cz",
                "job_contact_phone": "+123456789"
              },
              "answer_created": "2019-06-21 15:53:49",
              "phone": null,
              "email": "foo@bar.com",
              "flow_id": 0,
              "share_status": 0,
              "share_status_detail": "Dobrý den, o pozici nemám zájem.",
              "source": {
                "name": "neznámý",
                "type": "Nepřiřazený"
              },
              "attachment_list": [],
              "rejected": false
            }
          ],
          "meta": {
            "code": "api.found",
            "duration": 610,
            "message": "Answers was found.",
            "entries_from": 1,
            "entries_to": 3,
            "entries_total": 3,
            "entries_sum": 3
          }
        }
        
     
## Answer list [/answers/{answer_id}]
### Get Answer [GET]

Tento dotaz vrací konkrétní odpověď. Oproti seznamu odpovědí není payload pole, ale rovnou kokrétní objekt odpovědi s nepatrně jinou strukturou (detailnější).
Pokud dotaz nenajde konkrétní odpověď, vrací se http status `404` s meta code `api.error.not_found`.
 
#### Response parameters
   
| Parameter                          | token condition | Type          | Note                                                                                                                                                                  |
|------------------------------------|-----------------|---------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `candidate_id`                     | `full_access`   | int           | ID kandidáta, ke kterému se odpověd vztahuje.                                                                                                                         |
| `answer_id`                        | `full_access`   | int           | ID odpovědi.                                                                                                                                                          |
| `job_id`                           | `full_access`   | int           | ID inzerátu.                                                                                                                                                          |
| `name`                             | `full_access`   | object        |                                                                                                                                                                       |
| `name` - `first_name`              | `full_access`   | int           |                                                                                                                                                                       |
| `name` - `last_name`               | `full_access`   | string        |                                                                                                                                                                       |
| `name` - `initials`                | `full_access`   | string        | Iniciály jména                                                                                                                                                        |
| `title`                            | `full_access`   | object        |                                                                                                                                                                       |
| `title` - `before`                 | `full_access`   | string        | Titul před jménem.                                                                                                                                                    |
| `title` - `after`                  | `full_access`   | string        | Titul za jménem.                                                                                                                                                      |
| `user_img`                         | `full_access`   | string        | Cesta k obrázku uchazeče.                                                                                                                                             |
| `rating`                           | `full_access`   | int           | 0-5, hodnocení uchazeče.                                                                                                                                              |
| `sign_job`                         | `full_access`   | object        |                                                                                                                                                                       |
| `sign_job` - `job_title`           | `full_access`   | string        | Název inzerátu, ke kterému je odpověď přiřazena.                                                                                                                      |
| `sign_job` - `job_source_site`     | `full_access`   | string        | DEPRECATED: portál, na kterém byl inzerát vytvořen.                                                                                                                     |
| `phone`                            | `full_access`   | string        |                                                                                                                                                                       |
| `email`                            | `full_access`   | string        |                                                                                                                                                                       |
| `flow_id`                          | `full_access`   | int           | ID flow, ve které se odpověď zrovna nachází. (Dokumentaci k flow zatím připravujeme.)                                                                                 |
| `share_status`                     | `full_access`   | int,null      | Pokud je odpověď zrecyklovaná (zkopírovaná z jiného inzerátu) čekáme na odpověď uchazeče. NULL: není odpověď, 1: Uchazeč odpověď schválil, 0: Uchazeč odpověd zamítl. |
| `share_status_detail`              | `full_access`   | string        | Důvod zamítnutí zrecyklované odpovědi.                                                                                                                                |
| `rejected`                         | `full_access`   | null,boolean  | Značí, jestli je odpověď zamítnutá.                                                                                                                                   |
| `source`                           | `full_access`   | object        |                                                                                                                                                                       |
| `source` - `name`                  | `full_access`   | string        | Název zdroje, ke kterému se odpověď vztahuje.                                                                                                                         |
| `source` - `type`                  | `full_access`   | string        | Typ zdroje. Například jestli je to systémový email, api aj.                                                                                                           |
| `attachment_list`                  | `full_access`   | array(object) |                                                                                                                                                                       |
| `attachment_list` - `name`         | `full_access`   | string        | Název souboru.                                                                                                                                                        |
| `attachment_list` - `size`         | `full_access`   | int           | Velikost souboru.                                                                                                                                                     |
| `attachment_list` - `hash`         | `full_access`   | string        | ID (hash) souboru.                                                                                                                                                    |
| `attachment_list` - `download_url` | `full_access`   | string        | REST API url adresa na stáhnutí souboru. Při volání musíte být autorizováni `full_access` tokenem. Viz files sekce.                                                   |
| `custom_data`                      | `full_access`   | array(object) | Závislé na společnosti a vnitřní implementaci společnosti - toto pole nemusí být v payloadu přítomno.                                                                 |


#### Requirements

   + Authorization with token
   + token type: `full_access`: Práce s výpisem odpovědí vyžaduje `full_access` token.

+ Request
    + Headers
    
            Authorization: Bearer 30bcaf299e100318906fef2f442505216fa28af1.11196.99382ec77e2a79ac2af2671730817ec6

+ Parameters
    + answer_id (numeric,`123456`) - ID odpovědi
    
+ Response 200 (application/json)

        {
          "payload": {
            "candidate_id": 123456,
            "answer_id": 123456,
            "job_id": 123456,
            "name": {
              "first_name": "Jan",
              "last_name": "Novák",
              "initials": "JN"
            },
            "title": {
              "before": null,
              "after": null
            },
            "user_img": "https:\/\/api.recruitis.io\/images\/no-avatar_sq.png",
            "sign_job": {
              "job_title": "Hledáme IT programátora",
              "job_source_site": "pracevhradci.cz"
            },
            "source_site": "recruitis.io",
            "phone": "604123456",
            "email": "jannovak@test.cz",
            "rating": 0,
            "rejected": false,
            "additional_details": [
              {
                "name": "telefon",
                "value": "604123456"
              }
            ],
            "share_status": null,
            "flow_id": 49,
            "share_status_detail": null,
            "source": {
              "name": "recruitis.io",
              "type": "Z inzertních portálů"
            },
            "interview_date": null,
            "date_response": "2020-05-14 11:23:55",
            "attachment_list": [
              {
                "name": "zivotopis.pdf",
                "size": 1490.48,
                "hash": "xxxxxxxx",
                "download_url": "https:\/\/api.recruitis.io\/api2\/files\/xxxxxxxx"
              }
            ],
            "cover_letter": "Lorem ipsum....."
          },
          "meta": {
            "code": "api.ok",
            "duration": 1010,
            "message": "Answer %id was found."
          }
        }
           
### Export answer [PUT /answers/{answer_id}/export]
Označí odpověď v Recruitisu jako exportovanou. Nemá pevně daný číselník. Tato funkcionalita není určená pro
normální použití. Pro detailnější popis nás kontaktujte.

#### Důležitá informace:
Hodnota "status" nemá pevně daný číselník, každá společnost si jej definuje sama na své straně. 
Pro definici hodnot pooužijte bitmasku.

#### Requirements

   + Authorization with token
   + token type: `full_access`.    
   
| Request value        | Required | Default Value   | Note                                                                                      |
|:---------------------|----------|-----------------|-------------------------------------------------------------------------------------------|
| `status`             | Yes      |                 | Bitmaska, hodnoty v řadě 1,2,4,8,16,...                                                   |


+ Request (application/json)
    + Headers
    
            Authorization: Bearer 30bcaf299e100318906fef2f442505216fa28af1.11196.99382ec77e2a79ac2af2671730817ec6

    + Body  
    
            {
                "status": 1
            }

+ Response 200 (application/json)

        {
            "payload": {
                "answer_id": 1234,
                "exported_status": 1,
                "exported_date": "2020-03-02 15:54:49"
            },
             "meta": {
                "code": "api.modified",
                "duration": 1040,
                "message": "Answer was marked as exported."
            }
        }
        
+ Response 400 (application/json)
        
        {
          "payload": null,
          "meta": {
            "duration": "139.58",
            "total_duration": 330,
            "code": "api.error.generic",
            "message": ""
          }
        }

# Group Referrals

Tato sekce se vztahuje k referralům systému Recruitis. Tyto referralové mají přístup do své sekce, odkud mohou sdílet nasdílené inzeráty a tím
hledat nové zaměstnance skrze vypsané odměny. 

## Referral entity [/referrals{?id,limit,page,search}]

### Create new referral [POST]
Procedura na uložení nového referrala. Jako odpověď se vrátí ID referrala. 
V případě, že daný referral již existuje, server vrací header status `409`.

#### Důležitá informace:
**Při testování POST požadavku v Apiary.io na produkčním serveru: Základní token míří na testovací účet, ke kterému mají přístup i ostatní uživatelé. 
Neposílejte tedy své osobní údaje přes tento token, popřípadě si token změňte na svůj vlastní.**

#### Requirements

   + Authorization with token
   + token type: `full_access`
   
 | Request value     | Required | Note                                                                                                                        |
 |-------------------|----------|-----------------------------------------------------------------------------------------------------------------------------|
 | `name`            | Yes      | Jméno referrala.                                                                                                             |
 | `email`           | No       | Email referrala.                                                                                                                  |
 | `phone`           | No       | Telefon referrala.                                                                                                             |
 | `email_text`      | No       | Pokud je zadáno, pak se tento email rovnou při vytvoření referrala pošle na určený email. Podporuje i proměnné, viz šablony v Recruitisu. |

+ Request (application/json)
    + Headers
    
            Authorization: Bearer 30bcaf299e100318906fef2f442505216fa28af1.11196.99382ec77e2a79ac2af2671730817ec6

    + Body
        
            {
              "name": "Jan Novák",
              "email": "foo@bar.com",
              "phone": "+420123456789",
              "email_text": "Dobrý den,\n Vítejte v referral systému. Lorem ipsum........"
            }

+ Response 201 (application/json)

        {
          "payload": {
            "id": "2ntqcwix",
            "public_id": "dn9kwh8mtmgw1raxaqmlswxj",
            "url": "https://app.recruitis.io/referral/dn9kwh8mtmgw1raxaqmlswxj",
            "name": "Jan Novák",
            "email": "janovak@test.cz"
          },
          "meta": {
            "code": "api.created",
            "duration": 30,
            "message": "Referral(s) were created."
          }
        }

        
+ Response 409 (application/json)

        {
          "payload": {
            "id" : 12345
          },
          "meta": {
            "duration": "139.58",
            "total_duration": 330,
            "code": "api.error.referral.already_created",
            "message": "This referral already exists."
          }
        }
        
### Get referral list [GET]

Zavolání vrátí veškeré referraly přidružené k dané firmě. Na výpis se vztahuje stránkovač, kde maximum entit na jednu stránku je 100.
V případě, že neodpovídá filtru žádný referral (nebo firma žádného referrala nemá), systém vrací header status `200` s `meta.code` `api.response.null`.

#### Response parameters

| Parameter      | Type     | Note                                                                             |
|----------------|----------|----------------------------------------------------------------------------------|
| `id`           | string   | ID referrala.                                                                    |
| `access_id`    | string   | Veřejné ID referrala, přes který má přístup ke svému portálu, viz  `url` parametr.|
| `name`         | string   | Jméno referrala.                                                                  |
| `photo`        | date     | Pokud je zadáno, tak je zde odkaz na fotku referrala.                       |
| `date_created` | datetime | Datum vzniku referrala.                                                           |
| `date_visited` | datetime | Datum, kdy naposledy referral navštívil svojí stránku.                            |
| `email`        | string   | Email referrala.                                                              |
| `url`          | string   | Odkaz na adresu stránky referrrala.                                              |
                            
                            
+ Parameters
     + id (optional, string, `xseo35fe`) - ID referrala, popř. access_id referrala. ID se může zadat i jako array. Pozor: nekombinujte referral ID a referral access_id.
     + limit (optional,numeric,`10`) - maximální počet entit, které má server vrátit. Maximální limit je 100.
     + page (optional,numeric,`1`) - strana s entitami.
     + search (optional,string) - Vrátí referraly s daným jménem, popř. emailem.
    
+ Request
    + Headers
    
            Authorization: Bearer 30bcaf299e100318906fef2f442505216fa28af1.11196.99382ec77e2a79ac2af2671730817ec6
                
+ Response 200 (application/json)

                {
                  "payload": [
                    {
                      "id": "exe6bhcl",
                      "access_id": "1gdbhacaf72nc7ap2jdecq34",
                      "name": "Jan Novák",
                      "photo": null,
                      "date_created": "2016-08-17 10:04:52",
                      "date_visited": null,
                      "email": "jannovak@lorem.org",
                      "url": "https://app.recruitis.io/referral/1gdbhacaf72nc7ap2jdecq34"
                    }
                  ],
                  "meta": {
                    "code": "api.found",
                    "duration": 30,
                    "message": "Referrals are returned.",
                    "entries_from": 1,
                    "entries_to": 10,
                    "entries_total": 1,
                    "entries_sum": 1
                  }
                }
                
                
### Get referral [GET /referrals/{id}]

Vrátí konkrétního referrala. Pokud je zadáno jedno ID a není zadáno jako pole v GET parametrech, poté se vrátí jako jedna entita, tzn. payload nebude obsahovat pole.
V případě, že daný referral neexistuje, vrací se `404` odpověď. 

+ Parameters
     + id (required, string, `xseo35fe`) - ID referrala, popř. access_id referrala.
     
+ Request
    + Headers
    
            Authorization: Bearer 30bcaf299e100318906fef2f442505216fa28af1.11196.99382ec77e2a79ac2af2671730817ec6

+ Response 200 (application/json)

        {
          "payload": {
            "id": "exe6bhcl",
            "access_id": "1gdbhacaf72nc7ap2jdecq34",
            "name": "Jan Novák",
            "photo": null,
            "date_created": "2016-08-17 10:04:52",
            "date_visited": null,
            "email": "jannovak@lorem.org",
            "url": "https://app.recruitis.io/referral/1gdbhacaf72nc7ap2jdecq34"
          },
          "meta": {
            "code": "api.found",
            "duration": 30,
            "message": "Referral is returned.",
            "entries_from": 1,
            "entries_to": 10,
            "entries_total": 1,
            "entries_sum": 1
          }
        }

+ Response 404 (application/json)
        
        {
          "payload": null,
          "meta": {
            "duration": "139.58",
            "total_duration": 330,
            "code": "api.error.not_found",
            "message": "Referral ID XXX doesn't exists."
          }
        }

# Group Job filters

Toto je specifická oblast, ve které pracujeme s filtry pro konkrétní inzeráty. Mnohdy chceme inzeráty filtrovat podle údajů, které
nám systém nenabízí, tak si je musíme sami vytvořit a k inzerátu přiřadit. Následně je můžeme podle nich filtrovat. 

Příklad filtru:
- Oddělení v nemocnici (JIP, Gynekologie, ORL, ...)
- Typy provozu (jednosměnný, dvousměnný, ...)
 
Jeden inzerát může mít u sebe více filtrů, tohle už záleží pouze na personalistovi, který inzerát tvoří.


## Filter List [/filters{?id,group}]

Vrátí seznam filtrů, které je možné dle ID přiřazovat a filtrovat u inzerátů.
*Tato funkce je totožná s funkcí GET `enums/filters`*.

    
### Get Filters [GET]

Získá všechny naše profese a obory včetně jejich ID.

#### Requirements

   + Authorization with token
      + token type: `public_token` 

+ Request
    + Headers
    
            Authorization: Bearer 30bcaf299e100318906fef2f442505216fa28af1.11196.99382ec77e2a79ac2af2671730817ec6

+ Parameters
    + group (optional,array[string]) - Vyfiltruje pouze seznam filtrů k dané skupině.
    

+ Response 200 (application/json)

        {
          "payload": [
            {
              "id": "6",
              "name": "Ošetřovna",
              "group": "oddělení"
            },
            {
              "id": "7",
              "name": "Gynekologie",
              "group": "oddělení"
            },
            {
              "id": "8",
              "name": "ORL",
              "group": "oddělení"
            },
            {
              "id": "5",
              "name": "Jednosměný",
              "group": "Smanný provoz"
            },
            {
              "id": "9",
              "name": "Dvousměnný",
              "group": "Smanný provoz"
            },
            {
              "id": "12",
              "name": "Nepřetržitý",
              "group": "Smanný provoz"
            }
          ],
          "meta": {
            "duration": 320,
            "code": "api.found",
            "message": "Filter enumeration is returned."
          }
        }
        
    
### Creating new filter [POST]

Vytvoření nového filtru.

| Request value         | Required | Type     | Default Value   | Note               |
|:----------------------|----------|----------|:-------------:|----------------------|
| `name`                | Yes      | string   | | Název filtru.
| `group`               | Yes      | string   | | Název skupiny, do které se filtr automaticky zařadí.

+ Response 200 (application/json)

        {
          "payload": [
            {
              "id": "6",
              "name": "Ošetřovna",
              "group": "oddělení"
            },
            {
              "id": "7",
              "name": "Gynekologie",
              "group": "oddělení"
            },
            {
              "id": "8",
              "name": "ORL",
              "group": "oddělení"
            },
            {
              "id": "5",
              "name": "Jednosměný",
              "group": "Smanný provoz"
            },
            {
              "id": "9",
              "name": "Dvousměnný",
              "group": "Smanný provoz"
            },
            {
              "id": "12",
              "name": "Nepřetržitý",
              "group": "Smanný provoz"
            }
          ],
          "meta": {
            "duration": 320,
            "code": "api.found",
            "message": "Filter enumeration is returned."
          }
        }
        

### Updating existing filter [PUT]

Editace filtru dle ID v parametru URI.

| Request value         | Required | Type     | Default Value  | Note               |
|:----------------------|----------|----------|:--------------:|----------------------|
| `name`                | Yes      | string   | | Název filtru.
| `group`               | Yes      | string   | | Název skupiny, do které se filtr automaticky zařadí.

+ Parameters
    + id (required, number, `1`) - Filter ID

+ Response 201 (application/json)

        {
          "payload": null,
          "meta": {
            "duration": "139.58",
            "total_duration": 330,
            "code": "api.modified",
            "message": "Filter was modified."
          }
        }
        
### Delete existing filter [DELETE]
        
Smaže filtr dle ID v parametru URI.

+ Parameters
    + id (required, number, `1`) - Filter ID

+ Response 200 (application/json)

        {
          "payload": {
            "count": 1
          },
          "meta": {
            "duration": 2259,
            "code": "api.deleted",
            "message_localized": "Filter was deleted."
          }
        }

# Group Files
Tato sekce umožňuje správu souborů, momentálně jejich stahování.


## Job Lists [/files/{?hash}]

    
### Download a file [GET]

Stahování souboru probíhá tak, že Vám API vrátí payload s base64 stringem, který si následně můžete překonvertovat do daného souboru.
Daný hash nyní vrací funkce [`GET`] `answers/`, který vrací celou url adresu i s daným hashem (např.: "https://api.recruitis.io/api2/files/YXdQMmRtWWprNXBTY042M1hFOTdvZz09")


Pokud soubor neexistuje, nebo nepatří Vaší firmě, vrací se http status `404` s meta code `api.error.not_found`.

#### Parameters info

| Parameter | Required | Default Value | Require `full_access` token | Note                                                                                   |
|-----------|----------|---------------|-----------------------------|----------------------------------------------------------------------------------------|
| `hash`    | Yes      |               | Yes                         | string,array. Hash je rozpoznávací string, díky kterému systém ví, jaký soubor vrátit. |

Parametr `hash` lze použít i jako pole (`?hash[]=xxxxx&hash[]=yyyyyy`). V tom případě se i **payload vrací jako pole**.

#### Requirements

   + Authorization with token
   + token type: `full_access`.

#### Response parameters

| Parameter | token condition | Type   | Note                                                                      |
|-----------|-----------------|--------|---------------------------------------------------------------------------|
| `name`    | `full_access`   | string | Název souboru i příponou.                                                 |
| `size`    | `full_access`   | double | Velikost souboru v KB (dvě desetinná místa).                              |
| `content` | `full_access`   | string | Znění souboru v Base64.                                                   |
| `hash`    | `full_access`   | string | Vrací se na zpět pouze v případě, že je parametr `hash` použit jako pole. |

** V případě dotázání více příloh, je potřeba, aby součet velikostí všech příloh byl menší než 30MB. Pokud je součet
příloh větší, API vrátí http stav `413` s meta kódem `api.error.response.too_big`**


+ Request
    + Headers
    
            Authorization: Bearer 30bcaf299e100318906fef2f442505216fa28af1.11196.99382ec77e2a79ac2af2671730817ec6

+ Parameters
    + hash (string,`cFMrMmRoWGpNVVNLbDlHM2lweWJ6UT09`) - Identifikátor souboru.
    
+ Response 200 (application/json) 

        {
          "payload": {
            "name": "favicon.png",
            "size": 6.04,
            "content": "\/9j\/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP\/sABFEdWNreQABAAQAAABGAAD\/4QNtaHR0cDov\r\nL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENl\r\naGlIenJlU3pOVGN6a2M5ZCI\/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4\r\nOnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjAtYzA2MCA2MS4xMzQ3NzcsIDIwMTAvMDIvMTItMTc6\r\nMzI6MDAgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5\r\nOS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHht\r\nbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0i\r\naHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1w\r\nPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9\r\nInhtcC5kaWQ6MEU1Rjc0QkI3OEU3RTAxMUFCRTdEODQyN0FFMzgyNUUiIHhtcE1NOkRvY3VtZW50\r\nSUQ9InhtcC5kaWQ6QUY0NEIxQTZFNzhBMTFFMDlFNDVDRkY5QTZBNkNBMTIiIHhtcE1NOkluc3Rh\r\nbmNlSUQ9InhtcC5paWQ6QUY0NEIxQTVFNzhBMTFFMDlFNDVDRkY5QTZBNkNBMTIiIHhtcDpDcmVh\r\ndG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIj4gPHhtcE1NOkRlcml2ZWRGcm9t\r\nIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTM1Rjc0QkI3OEU3RTAxMUFCRTdEODQyN0FFMzgy\r\nNUUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MEU1Rjc0QkI3OEU3RTAxMUFCRTdEODQyN0FF\r\nMzgyNUUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw\/eHBh\r\nY2tldCBlbmQ9InIiPz7\/7gAOQWRvYmUAZMAAAAAB\/9sAhAAEAwMDAwMEAwMEBgQDBAYHBQQEBQcI\r\nBgYHBgYICggJCQkJCAoKDAwMDAwKDAwNDQwMEREREREUFBQUFBQUFBQUAQQFBQgHCA8KCg8UDg4O\r\nFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT\/wAARCAEL\r\nAAIDAREAAhEBAxEB\/8QAZQABAQABBQEAAAAAAAAAAAAAAAMEAQIFBgcIAQEBAAAAAAAAAAAAAAAA\r\nAAAAARABAAEBAw0AAAAAAAAAAAAAABIBEVEUYWITI5OjBFTUBRUHGBEBAAAAAAAAAAAAAAAAAAAA\r\nAP\/aAAwDAQACEQMRAD8A6faI2SBKQJSBGQIyBCYIyBCQIyBKQJ2g9o+YPYHP9o2\/E9MD7W8XS4V2\r\nbQUBYAAAAAAAAAAAAAAGkqAwsRS8HC4rKDG1eZvAf\/\/Z\r\n"
          },
          "meta": {
            "code": "api.found",
            "duration": 40,
            "message": "File was found."
          }
        }
        
+ Response 404 (application/json)

        {
          "payload": null,
          "meta": {
            "duration": 139.58,
            "code": "api.error.not_found",
            "message": "Attachment does not exists."
          }
        }
        
+ Response 413 (application/json)

        {
          "payload": null,
          "meta": {
            "duration": 2139.58,
            "code": "api.error.response.too_big",
            "message": "Response is too big and cannot be send."
          }
        }

# Group Enumerations

Sekce, která má za úkol vracet různé druhy číselníků. Na všechny číselníky se nevztahuje stránkování.

## Workfields Lists [/enums/workfields{?lang}]

Workfields neboli obory a profese používané v Recruitis.io systému.

    
### Get Workfields [GET]

Získá všechny naše profese a obory včetně jejich ID.

#### Requirements

   + No Authorization is needed

+ Parameters
    + lang (optional,string,`cs`) - Jazyk, ve kterém se mají obory vrátit (momentálně je podporována pouze čeština).
    
+ Response 200 (application/json)

        {
          "payload": [
            {
              "id": 1,
              "name": "Administrativa",
              "professions": [
                {
                  "id": 101,
                  "name": "Administrativní pracovník, referent"
                },
                {
                  "id": 102,
                  "name": "Archivář, správce rejstříku"
                }
              ]
            },
            {
              "id": 2,
              "name": "Bankovnictví a finanční služby",
              "professions": [
                {
                  "id": 201,
                  "name": "Compliance specialista"
                },
                {
                  "id": 202,
                  "name": "Custody specialista"
                }
              ]
            }
          ],
          "meta": {
            "duration": 2259,
            "code": "api.ok",
            "message_localized": "Obory byly nalezeny."
          }
        }
        
        
## Company Workfields Lists [/enums/workfields{?lang,channel_assignation}]


### Get Workfields Used In Jobs [GET]

Získá všechny profese, které jsou obsaženy v inzerátech dané společnosti. Někdy nemusí sedět počet (`count`) oborů při 
součtu `count` podřadných profesí. Je to tím, že mohou mít inzeráty návaznost pouze na obor, nikoliv i na profesi.

*Pro upřesnění: Profese jsou podmnožinou jednotlivých oborů.*

#### Requirements

   + Authorization with token
   + token type: `public_token`: pokud se jedná o dotaz na veřejné inzeráty (vystavený na firemních stránkách, xml nebo na pracovních portálech).
   + token type: `full_access`: pokud se jedná o dotaz na získání oborů pro interní inzeráty. 
   + Alespoň jeden typ tokenu je tedy vyžadován ve chvíli, kdy použijete parametr `channel_assignation`.
   
+ Request
    + Headers
    
            Authorization: Bearer 30bcaf299e100318906fef2f442505216fa28af1.11196.99382ec77e2a79ac2af2671730817ec6   

+ Parameters
    + lang (optional,string,`cs`) - Jazyk, ve kterém se mají obory vrátit (momentálně je podporována pouze čeština).
    + channel_assignation (array[int],``)
    
+ Response 200 (application/json)

        {
          "payload": [
            {
              "id": 1,
              "name": "Administrativa",
              "professions": [
                {
                  "id": 101,
                  "name": "Administrativní pracovník, referent",
                  "count": 4
                }
              ],
              "count" : 4
            },
            {
              "id": 2,
              "name": "Bankovnictví a finanční služby",
              "professions": [
                {
                  "id": 201,
                  "name": "Compliance specialista",
                  "count": 1
                },
                {
                  "id": 202,
                  "name": "Custody specialista",
                  "count": 1

                }
              ],
              "count": 2
            }
          ],
          "meta": {
            "duration": 2259,
            "code": "api.ok",
            "message_localized": "Obory byly nalezeny."
          }
        }

+ Response 401 (application/json)

        {
          "payload": null,
          "meta": {
            "duration": 139.58,
            "code": "api.error.unauthorized",
            "message": "Musíte být přihlášen"
          }
        }


## Channels List [/enums/channels]

### Get Company Channels [GET]

Získá všechny publikační kanály, na kterých může daná firma publikovat inzeráty. Při filtraci inzerátu lze pak ID kanálu používat jako argument.

#### Requirements

   + Authorization with token
   + token type: `full_access` 
    
+ Response 200 (application/json)

        {
          "payload": [
            {
              "id": 1,
              "name": "Pozice v Recruitisu (interní pozice)"
            },
            {
              "id": 2,
              "name": "Kariérní stránky"
            },
            {
              "id": 54,
              "name": "XML export \"JobSite\""
            }
          ],
          "meta": {
            "duration": 2259,
            "code": "api.ok",
            "message_localized": "Publikační kanály byly nalezeny."
          }
        }

+ Response 401 (application/json)

        {
          "payload": null,
          "meta": {
            "duration": 139.58,
            "code": "api.error.unauthorized",
            "message": "Musíte být přihlášen"
          }
        }
        
## Sources List [/enums/sources]

### Get Company Sources [GET]

Vrátí veškeré zdroje a jejich ID. Zdroje mohou být definovány jak samotným systémem, tak i přidány manuálně, firmou.

#### Requirements

   + Authorization with token
   + token type: `public_token` 
    
+ Response 200 (application/json)

        {
          "payload": [
            {
              "id": 1,
              "label": "Neznámý",
              "type": "unknown"
            },
            {
              "id": 2,
              "label": "pracevhradci.cz",
              "type": "portal"
            },
            {
              "id": 3,
              "label": "pracevpraze.cz",
              "type": "portal"
            },
            {
              "id": 32,
              "label": "XML \"JobSite\"",
              "type": "xml"
            },
            {
              "id": 1063,
              "label": "Osobní předání",
              "type": "manual"
            }
          ],
          "meta": {
            "duration": 2259,
            "code": "api.ok",
            "message_localized": "Zdroje byly nalezeny."
          }
        }

+ Response 401 (application/json)

        {
          "payload": null,
          "meta": {
            "duration": 139.58,
            "code": "api.error.unauthorized",
            "message": "Musíte být přihlášen"
          }
        }
        
 
## Filter List  [/enums/filters]

**Deprecated**: Namísto toho používejte volání `GET` `filters/`.

### Get filters [GET]

Vrací veškeré filtry, které jsou definované pro filtraci inzerátů. 
ID tohoto prvku se následně použije při filtraci inzerátů (volání `jobs` s parametrem `filter_id`).

#### Requirements

   + Authorization with token
   + token type: `public_token`
    
+ Response 200 (application/json)

        {
          "payload": [
            {
              "id": "6",
              "name": "Ošetřovna",
              "group": "oddělení"
            },
            {
              "id": "7",
              "name": "Gynekologie",
              "group": "oddělení"
            },
            {
              "id": "8",
              "name": "ORL",
              "group": "oddělení"
            },
            {
              "id": "5",
              "name": "Jednosměný",
              "group": "Smanný provoz"
            },
            {
              "id": "9",
              "name": "Dvousměnný",
              "group": "Smanný provoz"
            },
            {
              "id": "12",
              "name": "Nepřetržitý",
              "group": "Smanný provoz"
            }
          ],
          "meta": {
            "duration": 320,
            "code": "api.found",
            "message": "Filter enumeration is returned."
          }
        }

+ Response 401 (application/json)

        {
          "payload": null,
          "meta": {
            "duration": 139.58,
            "code": "api.error.unauthorized",
            "message": "Musíte být přihlášen"
          }
        }


## Office List [/enums/offices]
### Get offices [GET]

Vrací veškeré pobočky dané společnosti,
ID tohoto prvku se následně použije při filtraci inzerátů (volání `jobs` s parametrem `office_id`).

#### Requirements

   + Authorization with token
   + token type: `public_token`
    
+ Response 200 (application/json)

        {
          "payload": [
            {
              "id": "2744238",
              "street": null,
              "city": "Domažlice",
              "region": "Plzeňský kraj",
              "state": "CZ",
              "psc": "34401",
              "name": null,
              "about": null,
              "logo": null
            },
            {
              "id": "2744239",
              "street": "Vrchlického 5/161",
              "city": "Praha",
              "region": "Hlavní město Praha",
              "state": "CZ",
              "psc": "15000",
              "name": "SubFirma #1",
              "about": null,
              "logo": "https://app.recruitis.io/upload/companies/loga/38c93a3440463afcf43bdb75d5e7afb2.jpg"
            },
            {
              "id": "2744240",
              "street": null,
              "city": "Praha",
              "region": "Hlavní město Praha",
              "state": "CZ",
              "psc": null,
              "name": null,
              "about": null,
              "logo": null
            }
          ],
          "meta": {
            "duration": 2259,
            "code": "api.ok",
            "message": "Offices enumeration is returned"
          }
        }

+ Response 401 (application/json)

        {
          "payload": null,
          "meta": {
            "duration": 139.58,
            "code": "api.error.unauthorized",
            "message": "Musíte být přihlášen"
          }
        }

# Group reports

Tato sekce se vztahuje k reportu

## Report [/reports/{?date_from,date_to,lists}]

### Export data [GET]

Výpis dat ze systému, alternativa k exportu reportů do Excelu - data jsou ve stejném formátu. Tato API se hodí při využívání
jiných reportovacích systému, například Keboola.

Popis jednotlivých listů, viz `lists` parametr:
    
 - **answers**: Obsahuje všechny odpovědi vzniklé v daném časovém rozmezí. 
 - **jobs**: Obsahuje všechny inzeráty aktivní v daném časovém rozmezí.
 - **timeline**: Vrací chronologicky řazené záznamy podle jednotlivých uchazečů v daném časovém rozmezí.
 - **offices**: Vrátí seznam všech poboček. Na tuto sekci se nevztahuje parametr `date_from` a `date_to`.
 - **personalists**: Vrátí seznam všech personalistů. Na tuto sekci se nevztahuje parametr `date_from` a `date_to`.
 - **personalists-answers**: Tato sekce vypisuje všechny odpovědi a personalisty, kteří k nim mají přístup.

#### Requirements

   + Authorization with token
   + token type: `full_access`
   
 | Request value     | Required | Type      | Note                                                                                                                                              |
 |-------------------|----------|-----------|---------------------------------------------------------------------------------------------------------------------------------------------------|
 | `version`         | Yes      | integer   | Verze reportu, dle číselníku, aktuálně pouze "1".                                                                                                 |
 | `date_from`       | No       | date      | Datum, od kdy se mají exportovat data. Pokud nebude vyplněno, použije se aktuální den.                                                            |
 | `date_to`         | No       | date      | Datum, do kdy se mají exportovat data. Pokud nebude vyplněno, použije se aktuální den.                                                            |
 | `lists`           | No       | array     | Filtrace jednotlivých skupin exportů: answers, jobs, timeline, offices, personalists, personalists-answers. V případě, že není určeno, zvolí se všechny skupiny.    |




+ Request (application/json)
    + Headers
    
            Authorization: Bearer 30bcaf299e100318906fef2f442505216fa28af1.11196.99382ec77e2a79ac2af2671730817ec6

+ Parameters
    + date_from (optional,string,``) - Datum, od kdy se mají exportovat data. Pokud nebude vyplněno, použije se aktuální den.
    + date_to (optional,string,``) - Datum, do kdy se mají exportovat data. Pokud nebude vyplněno, použije se aktuální den.
    + lists (array[string],``) - Seznam "listů" : answers, jobs, timeline, offices, personalists, personalists-answers, personalists-timeline    

+ Response 200 (application/json)

        {
          "payload": {
            "answers": [
              {
                "ID": 1,
                "AnswerID": "380184",
                "ApplicantName": "Martin Testovací",
                "DateCreated": "2020-05-13 09:01:26",
                "Source": "testovací zdroj",
                "AdditionalSource": "vlastní zdroje",
                "Status": "Ve výběru",
                "Rejected": "0",
                "OfferAcceptationStatus": "0",
                "Sex": null,
                "Nationality": null,
                "JobID": "373460",
                "JobTitle": "Nový testovací inzerát",
                "Interviews": [
                  {
                    "Strengths": null,
                    "Weaknesses": null,
                    "Opportunities": null,
                    "Threats": null,
                    "Note": null,
                    "AvailableSince": "zítra",
                    "EndingReason": null,
                    "SalaryDemand": "10000"
                  }
                ]
              }
            ],
            "jobs": [
              {
                "ID": 1,
                "JobID": "373460",
                "JobTitle": "Nový testovací inzerát",
                "JobDescription": "Job description shortened to max 150 characters",
                "DateCreated": "2020-05-13 08:17:57",
                "DateEnd": false,
                "AuthorID": null,
                "AuthorName": "Petr Personalista",
                "ContactName": "Petr Novák",
                "ContactEmail": "petr@novak.cz",
                "ContactPhone": "602123898",
                "OfficeID": 361376,
                "OfficeName": "Hradec Králové, Královéhradecký kraj",
                "StatsViews": "0",
                "StatsAnswers": "5"
              }
            ],
            "offices": [
              {
                "ID": 1,
                "OfficeID": "361376",
                "OfficeAddress": "Československé armády 329 Hradec Králové 50003, Královéhradecký kraj",
                "SubCompanyName": null,
                "SubCompanyDescription": null,
                "SubCompanyLogo": ""
              }
            ],
            "personalists-answers": [
              {
                "ID": 1,
                "PersonalistID": "2268",
                "PersonalistName": "Petr Novák",
                "AnswerID": "380184",
                "ApplicantName": "Martin Testovací",
                "Status": "Ve výběru",
                "Rejected": "0",
                "OfferAcceptationStatus": "0",
                "DateCreated": "2020-05-13 09:01:26",
                "JobID": "373460",
                "JobTitle": "Nový testovací inzerát"
              }
            ],
            "personalists-timeline": [
              {
                "ID": 1,
                "PersonalistID": "2268",
                "PersonalistName": "Petr Novák",
                "ActionCreated": "2020-05-13 09:01:28",
                "AnswerID": "380184",
                "ApplicantName": "Martin Testovací",
                "ActionName": "answer_add",
                "ActionDescription": "Nový testovací inzerát",
                "ActionDetailedDescription": "This answer was automatically shared and it cames from answer form.",
                "JobID": "373460",
                "JobTitle": "Nový testovací inzerát"
              },
              {
                "ID": 2,
                "PersonalistID": "2268",
                "PersonalistName": "Petr Novák",
                "ActionCreated": "2020-05-13 09:01:30",
                "AnswerID": "380184",
                "ApplicantName": "Martin Testovací",
                "ActionName": "answer_share",
                "ActionDescription": "Petr Novák",
                "ActionDetailedDescription": "",
                "JobID": "373460",
                "JobTitle": "Nový testovací inzerát"
              },
              {
                "ID": 3,
                "PersonalistID": "2268",
                "PersonalistName": "Petr Novák",
                "ActionCreated": "2020-05-29 08:37:39",
                "AnswerID": "380184",
                "ApplicantName": "Martin Testovací",
                "ActionName": "flow_change",
                "ActionDescription": "Ve výběru",
                "ActionDetailedDescription": "",
                "JobID": "373460",
                "JobTitle": "Nový testovací inzerát"
              },
              {
                "ID": 4,
                "PersonalistID": "2268",
                "PersonalistName": "Petr Novák",
                "ActionCreated": "2020-05-29 08:38:05",
                "AnswerID": "380184",
                "ApplicantName": "Martin Testovací",
                "ActionName": "message_email_send",
                "ActionDescription": "",
                "ActionDetailedDescription": "",
                "JobID": "373460",
                "JobTitle": "Nový testovací inzerát"
              },
              {
                "ID": 5,
                "PersonalistID": "8699",
                "PersonalistName": "Petr Novák",
                "ActionCreated": "2020-05-13 09:01:30",
                "AnswerID": "380184",
                "ApplicantName": "Martin Testovací",
                "ActionName": "answer_add",
                "ActionDescription": "Petr Novák",
                "ActionDetailedDescription": "This answer came from sharing by another personalist.",
                "JobID": "373460",
                "JobTitle": "Nový testovací inzerát"
              }
            ],
            "personalists": [
              {
                "ID": 1,
                "PersonalistID": "8699",
                "PersonalistName": "Petr Personalista",
                "LastLogin": "2020-01-29 09:28:23",
                "ContactPhone": "602123456",
                "ContactEmail": "personalista@petr.cz",
                "ContactPhoto": "https://app.recruitis.io/path-to-employee-photo.jpg",
                "Role": "",
                "StatsOffersCreated": "0"
              }
            ],
            "timeline": [
              {
                "ID": 1,
                "AnswerID": null,
                "ApplicantID": null,
                "ApplicantName": "",
                "ActionName": "offer_add",
                "ActionArgument": "373460",
                "ActionDescription": "",
                "ActionCreated": "2020-05-13 08:17:58",
                "PersonalistID": "2268",
                "PersonalistName": "Petr Novák",
                "JobID": "373460",
                "JobTitle": "Nový testovací inzerát"
              },
              {
                "ID": 2,
                "AnswerID": "380184",
                "ApplicantID": "434219",
                "ApplicantName": "Martin Testovací",
                "ActionName": "answer_add",
                "ActionArgument": "373460",
                "ActionDescription": "Nový testovací inzerát",
                "ActionCreated": "2020-05-13 09:01:28",
                "PersonalistID": null,
                "PersonalistName": "",
                "JobID": "373460",
                "JobTitle": "Nový testovací inzerát"
              },
              {
                "ID": 3,
                "AnswerID": "380184",
                "ApplicantID": "434219",
                "ApplicantName": "Martin Testovací",
                "ActionName": "answer_share",
                "ActionArgument": "8699",
                "ActionDescription": "Petr Personalista",
                "ActionCreated": "2020-05-13 09:01:30",
                "PersonalistID": "2268",
                "PersonalistName": "Petr Novák",
                "JobID": "373460",
                "JobTitle": "Nový testovací inzerát"
              },
              {
                "ID": 4,
                "AnswerID": "380184",
                "ApplicantID": "434219",
                "ApplicantName": "Martin Testovací",
                "ActionName": "flow_change",
                "ActionArgument": "1",
                "ActionDescription": "Ve výběru",
                "ActionCreated": "2020-05-29 08:37:39",
                "PersonalistID": "2268",
                "PersonalistName": "Petr Novák",
                "JobID": "373460",
                "JobTitle": "Nový testovací inzerát"
              },
              {
                "ID": 5,
                "AnswerID": "380184",
                "ApplicantID": "434219",
                "ApplicantName": "Martin Testovací",
                "ActionName": "message_email_send",
                "ActionArgument": null,
                "ActionDescription": "",
                "ActionCreated": "2020-05-29 08:38:05",
                "PersonalistID": "2268",
                "PersonalistName": "Petr Novák",
                "JobID": "373460",
                "JobTitle": "Nový testovací inzerát"
              }
            ]
          },
          "meta": {
            "code": "api.found",
            "duration": 1020,
            "message": "Report was done."
          }
        }

        
+ Response 400 (application/json)

        {
          "payload": {
            "id" : 12345
          },
          "meta": {
            "duration": "139.58",
            "total_duration": 330,
            "code": "api.error.property.wrong_value",
            "message": "Date from must be lower than date to."
          }
        }
